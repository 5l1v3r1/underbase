<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>node_modules/yauzl/README · Underbase</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;yauzl&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#yauzl&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;yauzl&lt;/h1&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="node_modules/yauzl/README · Underbase"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sundowndev.github.io/underbase/"/><meta property="og:description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;yauzl&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#yauzl&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;yauzl&lt;/h1&gt;
"/><meta property="og:image" content="https://sundowndev.github.io/underbase/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sundowndev.github.io/underbase/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/underbase/img/logo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://sundowndev.github.io/underbase/blog/atom.xml" title="Underbase Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://sundowndev.github.io/underbase/blog/feed.xml" title="Underbase Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/underbase/js/scrollSpy.js"></script><link rel="stylesheet" href="/underbase/css/main.css"/><script src="/underbase/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/underbase/"><img class="logo" src="/underbase/img/logo.svg" alt="Underbase"/><h2 class="headerTitleWithLogo">Underbase</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/underbase/docs/installation" target="_self">Guides</a></li><li class=""><a href="/underbase/docs/api" target="_self">API</a></li><li class=""><a href="/underbase/blog/" target="_self">Release notes</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">node_modules/yauzl/README</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="yauzl"></a><a href="#yauzl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>yauzl</h1>
<p><a href="https://travis-ci.org/thejoshwolfe/yauzl"><img src="https://travis-ci.org/thejoshwolfe/yauzl.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/r/thejoshwolfe/yauzl"><img src="https://img.shields.io/coveralls/thejoshwolfe/yauzl.svg" alt="Coverage Status"></a></p>
<p>yet another unzip library for node. For zipping, see
<a href="https://github.com/thejoshwolfe/yazl">yazl</a>.</p>
<p>Design principles:</p>
<ul>
<li>Follow the spec.
Don't scan for local file headers.
Read the central directory for file metadata.
(see <a href="#no-streaming-unzip-api">No Streaming Unzip API</a>).</li>
<li>Don't block the JavaScript thread.
Use and provide async APIs.</li>
<li>Keep memory usage under control.
Don't attempt to buffer entire files in RAM at once.</li>
<li>Never crash (if used properly).
Don't let malformed zip files bring down client applications who are trying to catch errors.</li>
<li>Catch unsafe file names.
See <code>validateFileName()</code>.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> yauzl = <span class="hljs-built_in">require</span>(<span class="hljs-string">"yauzl"</span>);

yauzl.open(<span class="hljs-string">"path/to/file.zip"</span>, {<span class="hljs-attr">lazyEntries</span>: <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, zipfile</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
  zipfile.readEntry();
  zipfile.on(<span class="hljs-string">"entry"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\/$/</span>.test(entry.fileName)) {
      <span class="hljs-comment">// Directory file names end with '/'.</span>
      <span class="hljs-comment">// Note that entires for directories themselves are optional.</span>
      <span class="hljs-comment">// An entry's fileName implicitly requires its parent directories to exist.</span>
      zipfile.readEntry();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// file entry</span>
      zipfile.openReadStream(entry, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, readStream</span>) </span>{
        <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
        readStream.on(<span class="hljs-string">"end"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
          zipfile.readEntry();
        });
        readStream.pipe(somewhere);
      });
    }
  });
});
</code></pre>
<p>See also <code>examples/</code> for more usage examples.</p>
<h2><a class="anchor" aria-hidden="true" id="api"></a><a href="#api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2>
<p>The default for every optional <code>callback</code> parameter is:</p>
<pre><code class="hljs css language-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultCallback</span>(<span class="hljs-params">err</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="openpath-options-callback"></a><a href="#openpath-options-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>open(path, [options], [callback])</h3>
<p>Calls <code>fs.open(path, &quot;r&quot;)</code> and reads the <code>fd</code> effectively the same as <code>fromFd()</code> would.</p>
<p><code>options</code> may be omitted or <code>null</code>. The defaults are <code>{autoClose: true, lazyEntries: false, decodeStrings: true, validateEntrySizes: true, strictFileNames: false}</code>.</p>
<p><code>autoClose</code> is effectively equivalent to:</p>
<pre><code class="hljs css language-js">zipfile.once(<span class="hljs-string">"end"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  zipfile.close();
});
</code></pre>
<p><code>lazyEntries</code> indicates that entries should be read only when <code>readEntry()</code> is called.
If <code>lazyEntries</code> is <code>false</code>, <code>entry</code> events will be emitted as fast as possible to allow <code>pipe()</code>ing
file data from all entries in parallel.
This is not recommended, as it can lead to out of control memory usage for zip files with many entries.
See <a href="https://github.com/thejoshwolfe/yauzl/issues/22">issue #22</a>.
If <code>lazyEntries</code> is <code>true</code>, an <code>entry</code> or <code>end</code> event will be emitted in response to each call to <code>readEntry()</code>.
This allows processing of one entry at a time, and will keep memory usage under control for zip files with many entries.</p>
<p><code>decodeStrings</code> is the default and causes yauzl to decode strings with <code>CP437</code> or <code>UTF-8</code> as required by the spec.
The exact effects of turning this option off are:</p>
<ul>
<li><code>zipfile.comment</code>, <code>entry.fileName</code>, and <code>entry.fileComment</code> will be <code>Buffer</code> objects instead of <code>String</code>s.</li>
<li>Any Info-ZIP Unicode Path Extra Field will be ignored. See <code>extraFields</code>.</li>
<li>Automatic file name validation will not be performed. See <code>validateFileName()</code>.</li>
</ul>
<p><code>validateEntrySizes</code> is the default and ensures that an entry's reported uncompressed size matches its actual uncompressed size.
This check happens as early as possible, which is either before emitting each <code>&quot;entry&quot;</code> event (for entries with no compression),
or during the <code>readStream</code> piping after calling <code>openReadStream()</code>.
See <code>openReadStream()</code> for more information on defending against zip bomb attacks.</p>
<p>When <code>strictFileNames</code> is <code>false</code> (the default) and <code>decodeStrings</code> is <code>true</code>,
all backslash (<code>\</code>) characters in each <code>entry.fileName</code> are replaced with forward slashes (<code>/</code>).
The spec forbids file names with backslashes,
but Microsoft's <code>System.IO.Compression.ZipFile</code> class in .NET versions 4.5.0 until 4.6.1
creates non-conformant zipfiles with backslashes in file names.
<code>strictFileNames</code> is <code>false</code> by default so that clients can read these
non-conformant zipfiles without knowing about this Microsoft-specific bug.
When <code>strictFileNames</code> is <code>true</code> and <code>decodeStrings</code> is <code>true</code>,
entries with backslashes in their file names will result in an error. See <code>validateFileName()</code>.
When <code>decodeStrings</code> is <code>false</code>, <code>strictFileNames</code> has no effect.</p>
<p>The <code>callback</code> is given the arguments <code>(err, zipfile)</code>.
An <code>err</code> is provided if the End of Central Directory Record cannot be found, or if its metadata appears malformed.
This kind of error usually indicates that this is not a zip file.
Otherwise, <code>zipfile</code> is an instance of <code>ZipFile</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="fromfdfd-options-callback"></a><a href="#fromfdfd-options-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fromFd(fd, [options], [callback])</h3>
<p>Reads from the fd, which is presumed to be an open .zip file.
Note that random access is required by the zip file specification,
so the fd cannot be an open socket or any other fd that does not support random access.</p>
<p><code>options</code> may be omitted or <code>null</code>. The defaults are <code>{autoClose: false, lazyEntries: false, decodeStrings: true, validateEntrySizes: true, strictFileNames: false}</code>.</p>
<p>See <code>open()</code> for the meaning of the options and callback.</p>
<h3><a class="anchor" aria-hidden="true" id="frombufferbuffer-options-callback"></a><a href="#frombufferbuffer-options-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fromBuffer(buffer, [options], [callback])</h3>
<p>Like <code>fromFd()</code>, but reads from a RAM buffer instead of an open file.
<code>buffer</code> is a <code>Buffer</code>.</p>
<p>If a <code>ZipFile</code> is acquired from this method,
it will never emit the <code>close</code> event,
and calling <code>close()</code> is not necessary.</p>
<p><code>options</code> may be omitted or <code>null</code>. The defaults are <code>{lazyEntries: false, decodeStrings: true, validateEntrySizes: true, strictFileNames: false}</code>.</p>
<p>See <code>open()</code> for the meaning of the options and callback.
The <code>autoClose</code> option is ignored for this method.</p>
<h3><a class="anchor" aria-hidden="true" id="fromrandomaccessreaderreader-totalsize-options-callback"></a><a href="#fromrandomaccessreaderreader-totalsize-options-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fromRandomAccessReader(reader, totalSize, [options], [callback])</h3>
<p>This method of reading a zip file allows clients to implement their own back-end file system.
For example, a client might translate read calls into network requests.</p>
<p>The <code>reader</code> parameter must be of a type that is a subclass of
<a href="#class-randomaccessreader">RandomAccessReader</a> that implements the required methods.
The <code>totalSize</code> is a Number and indicates the total file size of the zip file.</p>
<p><code>options</code> may be omitted or <code>null</code>. The defaults are <code>{autoClose: true, lazyEntries: false, decodeStrings: true, validateEntrySizes: true, strictFileNames: false}</code>.</p>
<p>See <code>open()</code> for the meaning of the options and callback.</p>
<h3><a class="anchor" aria-hidden="true" id="dosdatetimetodatedate-time"></a><a href="#dosdatetimetodatedate-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dosDateTimeToDate(date, time)</h3>
<p>Converts MS-DOS <code>date</code> and <code>time</code> data into a JavaScript <code>Date</code> object.
Each parameter is a <code>Number</code> treated as an unsigned 16-bit integer.
Note that this format does not support timezones,
so the returned object will use the local timezone.</p>
<h3><a class="anchor" aria-hidden="true" id="validatefilenamefilename"></a><a href="#validatefilenamefilename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>validateFileName(fileName)</h3>
<p>Returns <code>null</code> or a <code>String</code> error message depending on the validity of <code>fileName</code>.
If <code>fileName</code> starts with <code>&quot;/&quot;</code> or <code>/[A-Za-z]:\//</code> or if it contains <code>&quot;..&quot;</code> path segments or <code>&quot;\\&quot;</code>,
this function returns an error message appropriate for use like this:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> errorMessage = yauzl.validateFileName(fileName);
<span class="hljs-keyword">if</span> (errorMessage != <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(errorMessage);
</code></pre>
<p>This function is automatically run for each entry, as long as <code>decodeStrings</code> is <code>true</code>.
See <code>open()</code>, <code>strictFileNames</code>, and <code>Event: &quot;entry&quot;</code> for more information.</p>
<h3><a class="anchor" aria-hidden="true" id="class-zipfile"></a><a href="#class-zipfile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class: ZipFile</h3>
<p>The constructor for the class is not part of the public API.
Use <code>open()</code>, <code>fromFd()</code>, <code>fromBuffer()</code>, or <code>fromRandomAccessReader()</code> instead.</p>
<h4><a class="anchor" aria-hidden="true" id="event-entry"></a><a href="#event-entry" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event: &quot;entry&quot;</h4>
<p>Callback gets <code>(entry)</code>, which is an <code>Entry</code>.
See <code>open()</code> and <code>readEntry()</code> for when this event is emitted.</p>
<p>If <code>decodeStrings</code> is <code>true</code>, entries emitted via this event have already passed file name validation.
See <code>validateFileName()</code> and <code>open()</code> for more information.</p>
<p>If <code>validateEntrySizes</code> is <code>true</code> and this entry's <code>compressionMethod</code> is <code>0</code> (stored without compression),
this entry has already passed entry size validation.
See <code>open()</code> for more information.</p>
<h4><a class="anchor" aria-hidden="true" id="event-end"></a><a href="#event-end" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event: &quot;end&quot;</h4>
<p>Emitted after the last <code>entry</code> event has been emitted.
See <code>open()</code> and <code>readEntry()</code> for more info on when this event is emitted.</p>
<h4><a class="anchor" aria-hidden="true" id="event-close"></a><a href="#event-close" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event: &quot;close&quot;</h4>
<p>Emitted after the fd is actually closed.
This is after calling <code>close()</code> (or after the <code>end</code> event when <code>autoClose</code> is <code>true</code>),
and after all stream pipelines created from <code>openReadStream()</code> have finished reading data from the fd.</p>
<p>If this <code>ZipFile</code> was acquired from <code>fromRandomAccessReader()</code>,
the &quot;fd&quot; in the previous paragraph refers to the <code>RandomAccessReader</code> implemented by the client.</p>
<p>If this <code>ZipFile</code> was acquired from <code>fromBuffer()</code>, this event is never emitted.</p>
<h4><a class="anchor" aria-hidden="true" id="event-error"></a><a href="#event-error" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event: &quot;error&quot;</h4>
<p>Emitted in the case of errors with reading the zip file.
(Note that other errors can be emitted from the streams created from <code>openReadStream()</code> as well.)
After this event has been emitted, no further <code>entry</code>, <code>end</code>, or <code>error</code> events will be emitted,
but the <code>close</code> event may still be emitted.</p>
<h4><a class="anchor" aria-hidden="true" id="readentry"></a><a href="#readentry" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>readEntry()</h4>
<p>Causes this <code>ZipFile</code> to emit an <code>entry</code> or <code>end</code> event (or an <code>error</code> event).
This method must only be called when this <code>ZipFile</code> was created with the <code>lazyEntries</code> option set to <code>true</code> (see <code>open()</code>).
When this <code>ZipFile</code> was created with the <code>lazyEntries</code> option set to <code>true</code>,
<code>entry</code> and <code>end</code> events are only ever emitted in response to this method call.</p>
<p>The event that is emitted in response to this method will not be emitted until after this method has returned,
so it is safe to call this method before attaching event listeners.</p>
<p>After calling this method, calling this method again before the response event has been emitted will cause undefined behavior.
Calling this method after the <code>end</code> event has been emitted will cause undefined behavior.
Calling this method after calling <code>close()</code> will cause undefined behavior.</p>
<h4><a class="anchor" aria-hidden="true" id="openreadstreamentry-options-callback"></a><a href="#openreadstreamentry-options-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>openReadStream(entry, [options], callback)</h4>
<p><code>entry</code> must be an <code>Entry</code> object from this <code>ZipFile</code>.
<code>callback</code> gets <code>(err, readStream)</code>, where <code>readStream</code> is a <code>Readable Stream</code> that provides the file data for this entry.
If this zipfile is already closed (see <code>close()</code>), the <code>callback</code> will receive an <code>err</code>.</p>
<p><code>options</code> may be omitted or <code>null</code>, and has the following defaults:</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-attr">decompress</span>: entry.isCompressed() ? <span class="hljs-literal">true</span> : <span class="hljs-literal">null</span>,
  <span class="hljs-attr">decrypt</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>,                  <span class="hljs-comment">// actually the default is null, see below</span>
  end: entry.compressedSize, <span class="hljs-comment">// actually the default is null, see below</span>
}
</code></pre>
<p>If the entry is compressed (with a supported compression method),
and the <code>decompress</code> option is <code>true</code> (or omitted),
the read stream provides the decompressed data.
Omitting the <code>decompress</code> option is what most clients should do.</p>
<p>The <code>decompress</code> option must be <code>null</code> (or omitted) when the entry is not compressed (see <code>isCompressed()</code>),
and either <code>true</code> (or omitted) or <code>false</code> when the entry is compressed.
Specifying <code>decompress: false</code> for a compressed entry causes the read stream
to provide the raw compressed file data without going through a zlib inflate transform.</p>
<p>If the entry is encrypted (see <code>isEncrypted()</code>), clients may want to avoid calling <code>openReadStream()</code> on the entry entirely.
Alternatively, clients may call <code>openReadStream()</code> for encrypted entries and specify <code>decrypt: false</code>.
If the entry is also compressed, clients must <em>also</em> specify <code>decompress: false</code>.
Specifying <code>decrypt: false</code> for an encrypted entry causes the read stream to provide the raw, still-encrypted file data.
(This data includes the 12-byte header described in the spec.)</p>
<p>The <code>decrypt</code> option must be <code>null</code> (or omitted) for non-encrypted entries, and <code>false</code> for encrypted entries.
Omitting the <code>decrypt</code> option (or specifying it as <code>null</code>) for an encrypted entry
will result in the <code>callback</code> receiving an <code>err</code>.
This default behavior is so that clients not accounting for encrypted files aren't surprised by bogus file data.</p>
<p>The <code>start</code> (inclusive) and <code>end</code> (exclusive) options are byte offsets into this entry's file data,
and can be used to obtain part of an entry's file data rather than the whole thing.
If either of these options are specified and non-<code>null</code>,
then the above options must be used to obain the file's raw data.
Speficying <code>{start: 0, end: entry.compressedSize}</code> will result in the complete file,
which is effectively the default values for these options,
but note that unlike omitting the options, when you specify <code>start</code> or <code>end</code> as any non-<code>null</code> value,
the above requirement is still enforced that you must also pass the appropriate options to get the file's raw data.</p>
<p>It's possible for the <code>readStream</code> provided to the <code>callback</code> to emit errors for several reasons.
For example, if zlib cannot decompress the data, the zlib error will be emitted from the <code>readStream</code>.
Two more error cases (when <code>validateEntrySizes</code> is <code>true</code>) are if the decompressed data has too many
or too few actual bytes compared to the reported byte count from the entry's <code>uncompressedSize</code> field.
yauzl notices this false information and emits an error from the <code>readStream</code>
after some number of bytes have already been piped through the stream.</p>
<p>This check allows clients to trust the <code>uncompressedSize</code> field in <code>Entry</code> objects.
Guarding against <a href="http://en.wikipedia.org/wiki/Zip_bomb">zip bomb</a> attacks can be accomplished by
doing some heuristic checks on the size metadata and then watching out for the above errors.
Such heuristics are outside the scope of this library,
but enforcing the <code>uncompressedSize</code> is implemented here as a security feature.</p>
<p>It is possible to destroy the <code>readStream</code> before it has piped all of its data.
To do this, call <code>readStream.destroy()</code>.
You must <code>unpipe()</code> the <code>readStream</code> from any destination before calling <code>readStream.destroy()</code>.
If this zipfile was created using <code>fromRandomAccessReader()</code>, the <code>RandomAccessReader</code> implementation
must provide readable streams that implement a <code>.destroy()</code> method (see <code>randomAccessReader._readStreamForRange()</code>)
in order for calls to <code>readStream.destroy()</code> to work in this context.</p>
<h4><a class="anchor" aria-hidden="true" id="close"></a><a href="#close" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>close()</h4>
<p>Causes all future calls to <code>openReadStream()</code> to fail,
and closes the fd, if any, after all streams created by <code>openReadStream()</code> have emitted their <code>end</code> events.</p>
<p>If the <code>autoClose</code> option is set to <code>true</code> (see <code>open()</code>),
this function will be called automatically effectively in response to this object's <code>end</code> event.</p>
<p>If the <code>lazyEntries</code> option is set to <code>false</code> (see <code>open()</code>) and this object's <code>end</code> event has not been emitted yet,
this function causes undefined behavior.
If the <code>lazyEntries</code> option is set to <code>true</code>,
you can call this function instead of calling <code>readEntry()</code> to abort reading the entries of a zipfile.</p>
<p>It is safe to call this function multiple times; after the first call, successive calls have no effect.
This includes situations where the <code>autoClose</code> option effectively calls this function for you.</p>
<p>If <code>close()</code> is never called, then the zipfile is &quot;kept open&quot;.
For zipfiles created with <code>fromFd()</code>, this will leave the <code>fd</code> open, which may be desirable.
For zipfiles created with <code>open()</code>, this will leave the underlying <code>fd</code> open, thereby &quot;leaking&quot; it, which is probably undesirable.
For zipfiles created with <code>fromRandomAccessReader()</code>, the reader's <code>close()</code> method will never be called.
For zipfiles created with <code>fromBuffer()</code>, the <code>close()</code> function has no effect whether called or not.</p>
<p>Regardless of how this <code>ZipFile</code> was created, there are no resources other than those listed above that require cleanup from this function.
This means it may be desirable to never call <code>close()</code> in some usecases.</p>
<h4><a class="anchor" aria-hidden="true" id="isopen"></a><a href="#isopen" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>isOpen</h4>
<p><code>Boolean</code>. <code>true</code> until <code>close()</code> is called; then it's <code>false</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="entrycount"></a><a href="#entrycount" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>entryCount</h4>
<p><code>Number</code>. Total number of central directory records.</p>
<h4><a class="anchor" aria-hidden="true" id="comment"></a><a href="#comment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>comment</h4>
<p><code>String</code>. Always decoded with <code>CP437</code> per the spec.</p>
<p>If <code>decodeStrings</code> is <code>false</code> (see <code>open()</code>), this field is the undecoded <code>Buffer</code> instead of a decoded <code>String</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="class-entry"></a><a href="#class-entry" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class: Entry</h3>
<p>Objects of this class represent Central Directory Records.
Refer to the zipfile specification for more details about these fields.</p>
<p>These fields are of type <code>Number</code>:</p>
<ul>
<li><code>versionMadeBy</code></li>
<li><code>versionNeededToExtract</code></li>
<li><code>generalPurposeBitFlag</code></li>
<li><code>compressionMethod</code></li>
<li><code>lastModFileTime</code> (MS-DOS format, see <code>getLastModDateTime</code>)</li>
<li><code>lastModFileDate</code> (MS-DOS format, see <code>getLastModDateTime</code>)</li>
<li><code>crc32</code></li>
<li><code>compressedSize</code></li>
<li><code>uncompressedSize</code></li>
<li><code>fileNameLength</code> (bytes)</li>
<li><code>extraFieldLength</code> (bytes)</li>
<li><code>fileCommentLength</code> (bytes)</li>
<li><code>internalFileAttributes</code></li>
<li><code>externalFileAttributes</code></li>
<li><code>relativeOffsetOfLocalHeader</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="filename"></a><a href="#filename" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fileName</h4>
<p><code>String</code>.
Following the spec, the bytes for the file name are decoded with
<code>UTF-8</code> if <code>generalPurposeBitFlag &amp; 0x800</code>, otherwise with <code>CP437</code>.
Alternatively, this field may be populated from the Info-ZIP Unicode Path Extra Field
(see <code>extraFields</code>).</p>
<p>This field is automatically validated by <code>validateFileName()</code> before yauzl emits an &quot;entry&quot; event.
If this field would contain unsafe characters, yauzl emits an error instead of an entry.</p>
<p>If <code>decodeStrings</code> is <code>false</code> (see <code>open()</code>), this field is the undecoded <code>Buffer</code> instead of a decoded <code>String</code>.
Therefore, <code>generalPurposeBitFlag</code> and any Info-ZIP Unicode Path Extra Field are ignored.
Furthermore, no automatic file name validation is performed for this file name.</p>
<h4><a class="anchor" aria-hidden="true" id="extrafields"></a><a href="#extrafields" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>extraFields</h4>
<p><code>Array</code> with each entry in the form <code>{id: id, data: data}</code>,
where <code>id</code> is a <code>Number</code> and <code>data</code> is a <code>Buffer</code>.</p>
<p>This library looks for and reads the ZIP64 Extended Information Extra Field (0x0001)
in order to support ZIP64 format zip files.</p>
<p>This library also looks for and reads the Info-ZIP Unicode Path Extra Field (0x7075)
in order to support some zipfiles that use it instead of General Purpose Bit 11
to convey <code>UTF-8</code> file names.
When the field is identified and verified to be reliable (see the zipfile spec),
the the file name in this field is stored in the <code>fileName</code> property,
and the file name in the central directory record for this entry is ignored.
Note that when <code>decodeStrings</code> is false, all Info-ZIP Unicode Path Extra Fields are ignored.</p>
<p>None of the other fields are considered significant by this library.
Fields that this library reads are left unalterned in the <code>extraFields</code> array.</p>
<h4><a class="anchor" aria-hidden="true" id="filecomment"></a><a href="#filecomment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fileComment</h4>
<p><code>String</code> decoded with the charset indicated by <code>generalPurposeBitFlag &amp; 0x800</code> as with the <code>fileName</code>.
(The Info-ZIP Unicode Path Extra Field has no effect on the charset used for this field.)</p>
<p>If <code>decodeStrings</code> is <code>false</code> (see <code>open()</code>), this field is the undecoded <code>Buffer</code> instead of a decoded <code>String</code>.</p>
<p>Prior to yauzl version 2.7.0, this field was erroneously documented as <code>comment</code> instead of <code>fileComment</code>.
For compatibility with any code that uses the field name <code>comment</code>,
yauzl creates an alias field named <code>comment</code> which is identical to <code>fileComment</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="getlastmoddate"></a><a href="#getlastmoddate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getLastModDate()</h4>
<p>Effectively implemented as:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">return</span> dosDateTimeToDate(<span class="hljs-keyword">this</span>.lastModFileDate, <span class="hljs-keyword">this</span>.lastModFileTime);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="isencrypted"></a><a href="#isencrypted" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>isEncrypted()</h4>
<p>Returns is this entry encrypted with &quot;Traditional Encryption&quot;.
Effectively implemented as:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.generalPurposeBitFlag &amp; <span class="hljs-number">0x1</span>) !== <span class="hljs-number">0</span>;
</code></pre>
<p>See <code>openReadStream()</code> for the implications of this value.</p>
<p>Note that &quot;Strong Encryption&quot; is not supported, and will result in an <code>&quot;error&quot;</code> event emitted from the <code>ZipFile</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="iscompressed"></a><a href="#iscompressed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>isCompressed()</h4>
<p>Effectively implemented as:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compressionMethod === <span class="hljs-number">8</span>;
</code></pre>
<p>See <code>openReadStream()</code> for the implications of this value.</p>
<h3><a class="anchor" aria-hidden="true" id="class-randomaccessreader"></a><a href="#class-randomaccessreader" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class: RandomAccessReader</h3>
<p>This class is meant to be subclassed by clients and instantiated for the <code>fromRandomAccessReader()</code> function.</p>
<p>An example implementation can be found in <code>test/test.js</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="randomaccessreader_readstreamforrangestart-end"></a><a href="#randomaccessreader_readstreamforrangestart-end" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>randomAccessReader._readStreamForRange(start, end)</h4>
<p>Subclasses <em>must</em> implement this method.</p>
<p><code>start</code> and <code>end</code> are Numbers and indicate byte offsets from the start of the file.
<code>end</code> is exclusive, so <code>_readStreamForRange(0x1000, 0x2000)</code> would indicate to read <code>0x1000</code> bytes.
<code>end - start</code> will always be at least <code>1</code>.</p>
<p>This method should return a readable stream which will be <code>pipe()</code>ed into another stream.
It is expected that the readable stream will provide data in several chunks if necessary.
If the readable stream provides too many or too few bytes, an error will be emitted.
(Note that <code>validateEntrySizes</code> has no effect on this check,
because this is a low-level API that should behave correctly regardless of the contents of the file.)
Any errors emitted on the readable stream will be handled and re-emitted on the client-visible stream
(returned from <code>zipfile.openReadStream()</code>) or provided as the <code>err</code> argument to the appropriate callback
(for example, for <code>fromRandomAccessReader()</code>).</p>
<p>The returned stream <em>must</em> implement a method <code>.destroy()</code>
if you call <code>readStream.destroy()</code> on streams you get from <code>openReadStream()</code>.
If you never call <code>readStream.destroy()</code>, then streams returned from this method do not need to implement a method <code>.destroy()</code>.
<code>.destroy()</code> should abort any streaming that is in progress and clean up any associated resources.
<code>.destroy()</code> will only be called after the stream has been <code>unpipe()</code>d from its destination.</p>
<p>Note that the stream returned from this method might not be the same object that is provided by <code>openReadStream()</code>.
The stream returned from this method might be <code>pipe()</code>d through one or more filter streams (for example, a zlib inflate stream).</p>
<h4><a class="anchor" aria-hidden="true" id="randomaccessreaderreadbuffer-offset-length-position-callback"></a><a href="#randomaccessreaderreadbuffer-offset-length-position-callback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>randomAccessReader.read(buffer, offset, length, position, callback)</h4>
<p>Subclasses may implement this method.
The default implementation uses <code>createReadStream()</code> to fill the <code>buffer</code>.</p>
<p>This method should behave like <code>fs.read()</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="randomaccessreaderclosecallback"></a><a href="#randomaccessreaderclosecallback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>randomAccessReader.close(callback)</h4>
<p>Subclasses may implement this method.
The default implementation is effectively <code>setImmediate(callback);</code>.</p>
<p><code>callback</code> takes parameters <code>(err)</code>.</p>
<p>This method is called once the all streams returned from <code>_readStreamForRange()</code> have ended,
and no more <code>_readStreamForRange()</code> or <code>read()</code> requests will be issued to this object.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-avoid-crashing"></a><a href="#how-to-avoid-crashing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to Avoid Crashing</h2>
<p>When a malformed zipfile is encountered, the default behavior is to crash (throw an exception).
If you want to handle errors more gracefully than this,
be sure to do the following:</p>
<ul>
<li>Provide <code>callback</code> parameters where they are allowed, and check the <code>err</code> parameter.</li>
<li>Attach a listener for the <code>error</code> event on any <code>ZipFile</code> object you get from <code>open()</code>, <code>fromFd()</code>, <code>fromBuffer()</code>, or <code>fromRandomAccessReader()</code>.</li>
<li>Attach a listener for the <code>error</code> event on any stream you get from <code>openReadStream()</code>.</li>
</ul>
<p>Minor version updates to yauzl will not add any additional requirements to this list.</p>
<h2><a class="anchor" aria-hidden="true" id="limitations"></a><a href="#limitations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limitations</h2>
<h3><a class="anchor" aria-hidden="true" id="no-streaming-unzip-api"></a><a href="#no-streaming-unzip-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No Streaming Unzip API</h3>
<p>Due to the design of the .zip file format, it's impossible to interpret a .zip file from start to finish
(such as from a readable stream) without sacrificing correctness.
The Central Directory, which is the authority on the contents of the .zip file, is at the end of a .zip file, not the beginning.
A streaming API would need to either buffer the entire .zip file to get to the Central Directory before interpreting anything
(defeating the purpose of a streaming interface), or rely on the Local File Headers which are interspersed through the .zip file.
However, the Local File Headers are explicitly denounced in the spec as being unreliable copies of the Central Directory,
so trusting them would be a violation of the spec.</p>
<p>Any library that offers a streaming unzip API must make one of the above two compromises,
which makes the library either dishonest or nonconformant (usually the latter).
This library insists on correctness and adherence to the spec, and so does not offer a streaming API.</p>
<p>Here is a way to create a spec-conformant .zip file using the <code>zip</code> command line program (Info-ZIP)
available in most unix-like environments, that is (nearly) impossible to parse correctly with a streaming parser:</p>
<pre><code class="hljs">$ echo -<span class="hljs-keyword">ne</span> '\<span class="hljs-keyword">x</span><span class="hljs-number">50</span>\<span class="hljs-keyword">x</span><span class="hljs-number">4</span>b\<span class="hljs-keyword">x</span><span class="hljs-number">07</span>\<span class="hljs-keyword">x</span><span class="hljs-number">08</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>' &gt; file.txt
$ zip -q<span class="hljs-number">0</span> - file.txt | cat &gt; out.zip
</code></pre>
<p>This .zip file contains a single file entry that uses General Purpose Bit 3,
which means the Local File Header doesn't know the size of the file.
Any streaming parser that encounters this situation will either immediately fail,
or attempt to search for the Data Descriptor after the file's contents.
The file's contents is a sequence of 16-bytes crafted to exactly mimic a valid Data Descriptor for an empty file,
which will fool any parser that gets this far into thinking that the file is empty rather than containing 16-bytes.
What follows the file's real contents is the file's real Data Descriptor,
which will likely cause some kind of signature mismatch error for a streaming parser (if one hasn't occurred already).</p>
<p>By using General Purpose Bit 3 (and compression method 0),
it's possible to create arbitrarily ambiguous .zip files that
distract parsers with file contents that contain apparently valid .zip file metadata.</p>
<h3><a class="anchor" aria-hidden="true" id="limitted-zip64-support"></a><a href="#limitted-zip64-support" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limitted ZIP64 Support</h3>
<p>For ZIP64, only zip files smaller than <code>8PiB</code> are supported,
not the full <code>16EiB</code> range that a 64-bit integer should be able to index.
This is due to the JavaScript Number type being an IEEE 754 double precision float.</p>
<p>The Node.js <code>fs</code> module probably has this same limitation.</p>
<h3><a class="anchor" aria-hidden="true" id="zip64-extensible-data-sector-is-ignored"></a><a href="#zip64-extensible-data-sector-is-ignored" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ZIP64 Extensible Data Sector Is Ignored</h3>
<p>The spec does not allow zip file creators to put arbitrary data here,
but rather reserves its use for PKWARE and mentions something about Z390.
This doesn't seem useful to expose in this library, so it is ignored.</p>
<h3><a class="anchor" aria-hidden="true" id="no-multi-disk-archive-support"></a><a href="#no-multi-disk-archive-support" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No Multi-Disk Archive Support</h3>
<p>This library does not support multi-disk zip files.
The multi-disk fields in the zipfile spec were intended for a zip file to span multiple floppy disks,
which probably never happens now.
If the &quot;number of this disk&quot; field in the End of Central Directory Record is not <code>0</code>,
the <code>open()</code>, <code>fromFd()</code>, <code>fromBuffer()</code>, or <code>fromRandomAccessReader()</code> <code>callback</code> will receive an <code>err</code>.
By extension the following zip file fields are ignored by this library and not provided to clients:</p>
<ul>
<li>Disk where central directory starts</li>
<li>Number of central directory records on this disk</li>
<li>Disk number where file starts</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="limited-encryption-handling"></a><a href="#limited-encryption-handling" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limited Encryption Handling</h3>
<p>You can detect when a file entry is encrypted with &quot;Traditional Encryption&quot; via <code>isEncrypted()</code>,
but yauzl will not help you decrypt it.
See <code>openReadStream()</code>.</p>
<p>If a zip file contains file entries encrypted with &quot;Strong Encryption&quot;, yauzl emits an error.</p>
<p>If the central directory is encrypted or compressed, yauzl emits an error.</p>
<h3><a class="anchor" aria-hidden="true" id="local-file-headers-are-ignored"></a><a href="#local-file-headers-are-ignored" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local File Headers Are Ignored</h3>
<p>Many unzip libraries mistakenly read the Local File Header data in zip files.
This data is officially defined to be redundant with the Central Directory information,
and is not to be trusted.
Aside from checking the signature, yauzl ignores the content of the Local File Header.</p>
<h3><a class="anchor" aria-hidden="true" id="no-crc-32-checking"></a><a href="#no-crc-32-checking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No CRC-32 Checking</h3>
<p>This library provides the <code>crc32</code> field of <code>Entry</code> objects read from the Central Directory.
However, this field is not used for anything in this library.</p>
<h3><a class="anchor" aria-hidden="true" id="versionneededtoextract-is-ignored"></a><a href="#versionneededtoextract-is-ignored" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>versionNeededToExtract Is Ignored</h3>
<p>The field <code>versionNeededToExtract</code> is ignored,
because this library doesn't support the complete zip file spec at any version,</p>
<h3><a class="anchor" aria-hidden="true" id="no-support-for-obscure-compression-methods"></a><a href="#no-support-for-obscure-compression-methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No Support For Obscure Compression Methods</h3>
<p>Regarding the <code>compressionMethod</code> field of <code>Entry</code> objects,
only method <code>0</code> (stored with no compression)
and method <code>8</code> (deflated) are supported.
Any of the other 15 official methods will cause the <code>openReadStream()</code> <code>callback</code> to receive an <code>err</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="data-descriptors-are-ignored"></a><a href="#data-descriptors-are-ignored" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Descriptors Are Ignored</h3>
<p>There may or may not be Data Descriptor sections in a zip file.
This library provides no support for finding or interpreting them.</p>
<h3><a class="anchor" aria-hidden="true" id="archive-extra-data-record-is-ignored"></a><a href="#archive-extra-data-record-is-ignored" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Archive Extra Data Record Is Ignored</h3>
<p>There may or may not be an Archive Extra Data Record section in a zip file.
This library provides no support for finding or interpreting it.</p>
<h3><a class="anchor" aria-hidden="true" id="no-language-encoding-flag-support"></a><a href="#no-language-encoding-flag-support" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No Language Encoding Flag Support</h3>
<p>Zip files officially support charset encodings other than CP437 and UTF-8,
but the zip file spec does not specify how it works.
This library makes no attempt to interpret the Language Encoding Flag.</p>
<h2><a class="anchor" aria-hidden="true" id="change-history"></a><a href="#change-history" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Change History</h2>
<ul>
<li>2.10.0
<ul>
<li>Added support for non-conformant zipfiles created by Microsoft, and added option <code>strictFileNames</code> to disable the workaround. <a href="https://github.com/thejoshwolfe/yauzl/issues/66">issue #66</a>, <a href="https://github.com/thejoshwolfe/yauzl/issues/88">issue #88</a></li>
</ul></li>
<li>2.9.2
<ul>
<li>Removed <code>tools/hexdump-zip.js</code> and <code>tools/hex2bin.js</code>. Those tools are now located here: <a href="https://github.com/thejoshwolfe/hexdump-zip">thejoshwolfe/hexdump-zip</a> and <a href="https://github.com/thejoshwolfe/hex2bin">thejoshwolfe/hex2bin</a></li>
<li>Worked around performance problem with zlib when using <code>fromBuffer()</code> and <code>readStream.destroy()</code> for large compressed files. <a href="https://github.com/thejoshwolfe/yauzl/issues/87">issue #87</a></li>
</ul></li>
<li>2.9.1
<ul>
<li>Removed <code>console.log()</code> accidentally introduced in 2.9.0. <a href="https://github.com/thejoshwolfe/yauzl/issues/64">issue #64</a></li>
</ul></li>
<li>2.9.0
<ul>
<li>Throw an exception if <code>readEntry()</code> is called without <code>lazyEntries:true</code>. Previously this caused undefined behavior. <a href="https://github.com/thejoshwolfe/yauzl/issues/63">issue #63</a></li>
</ul></li>
<li>2.8.0
<ul>
<li>Added option <code>validateEntrySizes</code>. <a href="https://github.com/thejoshwolfe/yauzl/issues/53">issue #53</a></li>
<li>Added <code>examples/promises.js</code></li>
<li>Added ability to read raw file data via <code>decompress</code> and <code>decrypt</code> options. <a href="https://github.com/thejoshwolfe/yauzl/issues/11">issue #11</a>, <a href="https://github.com/thejoshwolfe/yauzl/issues/38">issue #38</a>, <a href="https://github.com/thejoshwolfe/yauzl/pull/39">pull #39</a></li>
<li>Added <code>start</code> and <code>end</code> options to <code>openReadStream()</code>. <a href="https://github.com/thejoshwolfe/yauzl/issues/38">issue #38</a></li>
</ul></li>
<li>2.7.0
<ul>
<li>Added option <code>decodeStrings</code>. <a href="https://github.com/thejoshwolfe/yauzl/issues/42">issue #42</a></li>
<li>Fixed documentation for <code>entry.fileComment</code> and added compatibility alias. <a href="https://github.com/thejoshwolfe/yauzl/issues/47">issue #47</a></li>
</ul></li>
<li>2.6.0
<ul>
<li>Support Info-ZIP Unicode Path Extra Field, used by WinRAR for Chinese file names. <a href="https://github.com/thejoshwolfe/yauzl/issues/33">issue #33</a></li>
</ul></li>
<li>2.5.0
<ul>
<li>Ignore malformed Extra Field that is common in Android .apk files. <a href="https://github.com/thejoshwolfe/yauzl/issues/31">issue #31</a></li>
</ul></li>
<li>2.4.3
<ul>
<li>Fix crash when parsing malformed Extra Field buffers. <a href="https://github.com/thejoshwolfe/yauzl/issues/31">issue #31</a></li>
</ul></li>
<li>2.4.2
<ul>
<li>Remove .npmignore and .travis.yml from npm package.</li>
</ul></li>
<li>2.4.1
<ul>
<li>Fix error handling.</li>
</ul></li>
<li>2.4.0
<ul>
<li>Add ZIP64 support. <a href="https://github.com/thejoshwolfe/yauzl/issues/6">issue #6</a></li>
<li>Add <code>lazyEntries</code> option. <a href="https://github.com/thejoshwolfe/yauzl/issues/22">issue #22</a></li>
<li>Add <code>readStream.destroy()</code> method. <a href="https://github.com/thejoshwolfe/yauzl/issues/26">issue #26</a></li>
<li>Add <code>fromRandomAccessReader()</code>. <a href="https://github.com/thejoshwolfe/yauzl/issues/14">issue #14</a></li>
<li>Add <code>examples/unzip.js</code>.</li>
</ul></li>
<li>2.3.1
<ul>
<li>Documentation updates.</li>
</ul></li>
<li>2.3.0
<ul>
<li>Check that <code>uncompressedSize</code> is correct, or else emit an error. <a href="https://github.com/thejoshwolfe/yauzl/issues/13">issue #13</a></li>
</ul></li>
<li>2.2.1
<ul>
<li>Update dependencies.</li>
</ul></li>
<li>2.2.0
<ul>
<li>Update dependencies.</li>
</ul></li>
<li>2.1.0
<ul>
<li>Remove dependency on <code>iconv</code>.</li>
</ul></li>
<li>2.0.3
<ul>
<li>Fix crash when trying to read a 0-byte file.</li>
</ul></li>
<li>2.0.2
<ul>
<li>Fix event behavior after errors.</li>
</ul></li>
<li>2.0.1
<ul>
<li>Fix bug with using <code>iconv</code>.</li>
</ul></li>
<li>2.0.0
<ul>
<li>Initial release.</li>
</ul></li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#usage">Usage</a></li><li><a href="#api">API</a><ul class="toc-headings"><li><a href="#openpath-options-callback">open(path, [options], [callback])</a></li><li><a href="#fromfdfd-options-callback">fromFd(fd, [options], [callback])</a></li><li><a href="#frombufferbuffer-options-callback">fromBuffer(buffer, [options], [callback])</a></li><li><a href="#fromrandomaccessreaderreader-totalsize-options-callback">fromRandomAccessReader(reader, totalSize, [options], [callback])</a></li><li><a href="#dosdatetimetodatedate-time">dosDateTimeToDate(date, time)</a></li><li><a href="#validatefilenamefilename">validateFileName(fileName)</a></li><li><a href="#class-zipfile">Class: ZipFile</a></li><li><a href="#class-entry">Class: Entry</a></li><li><a href="#class-randomaccessreader">Class: RandomAccessReader</a></li></ul></li><li><a href="#how-to-avoid-crashing">How to Avoid Crashing</a></li><li><a href="#limitations">Limitations</a><ul class="toc-headings"><li><a href="#no-streaming-unzip-api">No Streaming Unzip API</a></li><li><a href="#limitted-zip64-support">Limitted ZIP64 Support</a></li><li><a href="#zip64-extensible-data-sector-is-ignored">ZIP64 Extensible Data Sector Is Ignored</a></li><li><a href="#no-multi-disk-archive-support">No Multi-Disk Archive Support</a></li><li><a href="#limited-encryption-handling">Limited Encryption Handling</a></li><li><a href="#local-file-headers-are-ignored">Local File Headers Are Ignored</a></li><li><a href="#no-crc-32-checking">No CRC-32 Checking</a></li><li><a href="#versionneededtoextract-is-ignored">versionNeededToExtract Is Ignored</a></li><li><a href="#no-support-for-obscure-compression-methods">No Support For Obscure Compression Methods</a></li><li><a href="#data-descriptors-are-ignored">Data Descriptors Are Ignored</a></li><li><a href="#archive-extra-data-record-is-ignored">Archive Extra Data Record Is Ignored</a></li><li><a href="#no-language-encoding-flag-support">No Language Encoding Flag Support</a></li></ul></li><li><a href="#change-history">Change History</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/underbase/" class="nav-home"><img src="/underbase/img/logo.svg" alt="Underbase" width="66" height="58"/></a><div><h5>Docs</h5><a href="/underbase/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/underbase/docs/en/doc2.html">Guides (or other categories)</a><a href="/underbase/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/underbase/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div></body></html>