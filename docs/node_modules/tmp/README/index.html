<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>node_modules/tmp/README · Underbase</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;tmp&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#tmp&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tmp&lt;/h1&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="node_modules/tmp/README · Underbase"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sundowndev.github.io/underbase/"/><meta property="og:description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;tmp&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#tmp&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tmp&lt;/h1&gt;
"/><meta property="og:image" content="https://sundowndev.github.io/underbase/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sundowndev.github.io/underbase/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/underbase/img/logo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://sundowndev.github.io/underbase/blog/atom.xml" title="Underbase Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://sundowndev.github.io/underbase/blog/feed.xml" title="Underbase Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/underbase/js/scrollSpy.js"></script><link rel="stylesheet" href="/underbase/css/main.css"/><script src="/underbase/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/underbase/"><img class="logo" src="/underbase/img/logo.svg" alt="Underbase"/><h2 class="headerTitleWithLogo">Underbase</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/underbase/docs/installation" target="_self">Guides</a></li><li class=""><a href="/underbase/docs/api" target="_self">API</a></li><li class=""><a href="/underbase/blog/" target="_self">Release notes</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">node_modules/tmp/README</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="tmp"></a><a href="#tmp" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tmp</h1>
<p>A simple temporary file and directory creator for <a href="http://nodejs.org/">node.js.</a></p>
<p><a href="https://travis-ci.org/raszi/node-tmp"><img src="https://travis-ci.org/raszi/node-tmp.svg?branch=master" alt="Build Status"></a>
<a href="https://david-dm.org/raszi/node-tmp"><img src="https://david-dm.org/raszi/node-tmp.svg" alt="Dependencies"></a>
<a href="https://badge.fury.io/js/tmp"><img src="https://badge.fury.io/js/tmp.svg" alt="npm version"></a>
<a href="https://raszi.github.io/node-tmp/"><img src="https://img.shields.io/badge/API-documented-brightgreen.svg" alt="API documented"></a>
<a href="https://snyk.io/test/npm/tmp"><img src="https://snyk.io/test/npm/tmp/badge.svg" alt="Known Vulnerabilities"></a></p>
<h2><a class="anchor" aria-hidden="true" id="about"></a><a href="#about" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>About</h2>
<p>This is a <a href="https://www.npmjs.com/browse/depended/tmp">widely used library</a> to create temporary files and directories
in a <a href="http://nodejs.org/">node.js</a> environment.</p>
<p>Tmp offers both an asynchronous and a synchronous API. For all API calls, all
the parameters are optional. There also exists a promisified version of the
API, see (5) under references below.</p>
<p>Tmp uses crypto for determining random file names, or, when using templates,
a six letter random identifier. And just in case that you do not have that much
entropy left on your system, Tmp will fall back to pseudo random numbers.</p>
<p>You can set whether you want to remove the temporary file on process exit or
not, and the destination directory can also be set.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-install"></a><a href="#how-to-install" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to install</h2>
<pre><code class="hljs css language-bash">npm install tmp
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<p>Please also check <a href="https://raszi.github.io/node-tmp/">API docs</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-file-creation"></a><a href="#asynchronous-file-creation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous file creation</h3>
<p>Simple temporary file creation, the file will be closed and unlinked on process exit.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.file(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempFileCreated</span>(<span class="hljs-params">err, path, fd, cleanupCallback</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'File: '</span>, path);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Filedescriptor: '</span>, fd);
  
  <span class="hljs-comment">// If we don't need the file anymore we could manually call the cleanupCallback</span>
  <span class="hljs-comment">// But that is not necessary if we didn't pass the keep option because the library</span>
  <span class="hljs-comment">// will clean after itself.</span>
  cleanupCallback();
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="synchronous-file-creation"></a><a href="#synchronous-file-creation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous file creation</h3>
<p>A synchronous version of the above.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> tmpobj = tmp.fileSync();
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'File: '</span>, tmpobj.name);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Filedescriptor: '</span>, tmpobj.fd);
  
<span class="hljs-comment">// If we don't need the file anymore we could manually call the removeCallback</span>
<span class="hljs-comment">// But that is not necessary if we didn't pass the keep option because the library</span>
<span class="hljs-comment">// will clean after itself.</span>
tmpobj.removeCallback();
</code></pre>
<p>Note that this might throw an exception if either the maximum limit of retries
for creating a temporary name fails, or, in case that you do not have the permission
to write to the directory where the temporary file should be created in.</p>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-directory-creation"></a><a href="#asynchronous-directory-creation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous directory creation</h3>
<p>Simple temporary directory creation, it will be removed on process exit.</p>
<p>If the directory still contains items on process exit, then it won't be removed.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.dir(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempDirCreated</span>(<span class="hljs-params">err, path, cleanupCallback</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, path);
  
  <span class="hljs-comment">// Manual cleanup</span>
  cleanupCallback();
});
</code></pre>
<p>If you want to cleanup the directory even when there are entries in it, then
you can pass the <code>unsafeCleanup</code> option when creating it.</p>
<h3><a class="anchor" aria-hidden="true" id="synchronous-directory-creation"></a><a href="#synchronous-directory-creation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous directory creation</h3>
<p>A synchronous version of the above.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> tmpobj = tmp.dirSync();
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, tmpobj.name);
<span class="hljs-comment">// Manual cleanup</span>
tmpobj.removeCallback();
</code></pre>
<p>Note that this might throw an exception if either the maximum limit of retries
for creating a temporary name fails, or, in case that you do not have the permission
to write to the directory where the temporary directory should be created in.</p>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-filename-generation"></a><a href="#asynchronous-filename-generation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous filename generation</h3>
<p>It is possible with this library to generate a unique filename in the specified
directory.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.tmpName(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempNameGenerated</span>(<span class="hljs-params">err, path</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Created temporary filename: '</span>, path);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="synchronous-filename-generation"></a><a href="#synchronous-filename-generation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous filename generation</h3>
<p>A synchronous version of the above.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> name = tmp.tmpNameSync();
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Created temporary filename: '</span>, name);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="advanced-usage"></a><a href="#advanced-usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced usage</h2>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-file-creation-1"></a><a href="#asynchronous-file-creation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous file creation</h3>
<p>Creates a file with mode <code>0644</code>, prefix will be <code>prefix-</code> and postfix will be <code>.txt</code>.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.file({ <span class="hljs-attr">mode</span>: <span class="hljs-number">0644</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'prefix-'</span>, <span class="hljs-attr">postfix</span>: <span class="hljs-string">'.txt'</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempFileCreated</span>(<span class="hljs-params">err, path, fd</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'File: '</span>, path);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Filedescriptor: '</span>, fd);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="synchronous-file-creation-1"></a><a href="#synchronous-file-creation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous file creation</h3>
<p>A synchronous version of the above.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> tmpobj = tmp.fileSync({ <span class="hljs-attr">mode</span>: <span class="hljs-number">0644</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'prefix-'</span>, <span class="hljs-attr">postfix</span>: <span class="hljs-string">'.txt'</span> });
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'File: '</span>, tmpobj.name);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Filedescriptor: '</span>, tmpobj.fd);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="controlling-the-descriptor"></a><a href="#controlling-the-descriptor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Controlling the Descriptor</h3>
<p>As a side effect of creating a unique file <code>tmp</code> gets a file descriptor that is
returned to the user as the <code>fd</code> parameter.  The descriptor may be used by the
application and is closed when the <code>removeCallback</code> is invoked.</p>
<p>In some use cases the application does not need the descriptor, needs to close it
without removing the file, or needs to remove the file without closing the
descriptor.  Two options control how the descriptor is managed:</p>
<ul>
<li><code>discardDescriptor</code> - if <code>true</code> causes <code>tmp</code> to close the descriptor after the file
is created.  In this case the <code>fd</code> parameter is undefined.</li>
<li><code>detachDescriptor</code> - if <code>true</code> causes <code>tmp</code> to return the descriptor in the <code>fd</code>
parameter, but it is the application's responsibility to close it when it is no
longer needed.</li>
</ul>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.file({ <span class="hljs-attr">discardDescriptor</span>: <span class="hljs-literal">true</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempFileCreated</span>(<span class="hljs-params">err, path, fd, cleanupCallback</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
  <span class="hljs-comment">// fd will be undefined, allowing application to use fs.createReadStream(path)</span>
  <span class="hljs-comment">// without holding an unused descriptor open.</span>
});
</code></pre>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.file({ <span class="hljs-attr">detachDescriptor</span>: <span class="hljs-literal">true</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempFileCreated</span>(<span class="hljs-params">err, path, fd, cleanupCallback</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  cleanupCallback();
  <span class="hljs-comment">// Application can store data through fd here; the space used will automatically</span>
  <span class="hljs-comment">// be reclaimed by the operating system when the descriptor is closed or program</span>
  <span class="hljs-comment">// terminates.</span>
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-directory-creation-1"></a><a href="#asynchronous-directory-creation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous directory creation</h3>
<p>Creates a directory with mode <code>0755</code>, prefix will be <code>myTmpDir_</code>.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.dir({ <span class="hljs-attr">mode</span>: <span class="hljs-number">0750</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'myTmpDir_'</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempDirCreated</span>(<span class="hljs-params">err, path</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, path);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="synchronous-directory-creation-1"></a><a href="#synchronous-directory-creation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous directory creation</h3>
<p>Again, a synchronous version of the above.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> tmpobj = tmp.dirSync({ <span class="hljs-attr">mode</span>: <span class="hljs-number">0750</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-string">'myTmpDir_'</span> });
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, tmpobj.name);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mkstemp-like-asynchronously"></a><a href="#mkstemp-like-asynchronously" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mkstemp like, asynchronously</h3>
<p>Creates a new temporary directory with mode <code>0700</code> and filename like <code>/tmp/tmp-nk2J1u</code>.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.dir({ <span class="hljs-attr">template</span>: <span class="hljs-string">'/tmp/tmp-XXXXXX'</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempDirCreated</span>(<span class="hljs-params">err, path</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, path);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mkstemp-like-synchronously"></a><a href="#mkstemp-like-synchronously" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mkstemp like, synchronously</h3>
<p>This will behave similarly to the asynchronous version.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

<span class="hljs-keyword">var</span> tmpobj = tmp.dirSync({ <span class="hljs-attr">template</span>: <span class="hljs-string">'/tmp/tmp-XXXXXX'</span> });
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Dir: '</span>, tmpobj.name);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-filename-generation-1"></a><a href="#asynchronous-filename-generation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous filename generation</h3>
<p>The <code>tmpName()</code> function accepts the <code>prefix</code>, <code>postfix</code>, <code>dir</code>, etc. parameters also:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.tmpName({ <span class="hljs-attr">template</span>: <span class="hljs-string">'/tmp/tmp-XXXXXX'</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_tempNameGenerated</span>(<span class="hljs-params">err, path</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;

    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Created temporary filename: '</span>, path);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="synchronous-filename-generation-1"></a><a href="#synchronous-filename-generation-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Synchronous filename generation</h3>
<p>The <code>tmpNameSync()</code> function works similarly to <code>tmpName()</code>.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);
<span class="hljs-keyword">var</span> tmpname = tmp.tmpNameSync({ <span class="hljs-attr">template</span>: <span class="hljs-string">'/tmp/tmp-XXXXXX'</span> });
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Created temporary filename: '</span>, tmpname);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="graceful-cleanup"></a><a href="#graceful-cleanup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Graceful cleanup</h2>
<p>One may want to cleanup the temporary files even when an uncaught exception
occurs. To enforce this, you can call the <code>setGracefulCleanup()</code> method:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> tmp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tmp'</span>);

tmp.setGracefulCleanup();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h2>
<p>All options are optional :)</p>
<ul>
<li><code>mode</code>: the file mode to create with, it fallbacks to <code>0600</code> on file creation and <code>0700</code> on directory creation</li>
<li><code>prefix</code>: the optional prefix, fallbacks to <code>tmp-</code> if not provided</li>
<li><code>postfix</code>: the optional postfix, fallbacks to <code>.tmp</code> on file creation</li>
<li><code>template</code>: <a href="http://www.kernel.org/doc/man-pages/online/pages/man3/mkstemp.3.html"><code>mkstemp</code></a> like filename template, no default</li>
<li><code>dir</code>: the optional temporary directory, fallbacks to system default (guesses from environment)</li>
<li><code>tries</code>: how many times should the function try to get a unique filename before giving up, default <code>3</code></li>
<li><code>keep</code>: signals that the temporary file or directory should not be deleted on exit, default is <code>false</code>, means delete
<ul>
<li>Please keep in mind that it is recommended in this case to call the provided <code>cleanupCallback</code> function manually.</li>
</ul></li>
<li><code>unsafeCleanup</code>: recursively removes the created temporary directory, even when it's not empty. default is <code>false</code></li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#about">About</a></li><li><a href="#how-to-install">How to install</a></li><li><a href="#usage">Usage</a><ul class="toc-headings"><li><a href="#asynchronous-file-creation">Asynchronous file creation</a></li><li><a href="#synchronous-file-creation">Synchronous file creation</a></li><li><a href="#asynchronous-directory-creation">Asynchronous directory creation</a></li><li><a href="#synchronous-directory-creation">Synchronous directory creation</a></li><li><a href="#asynchronous-filename-generation">Asynchronous filename generation</a></li><li><a href="#synchronous-filename-generation">Synchronous filename generation</a></li></ul></li><li><a href="#advanced-usage">Advanced usage</a><ul class="toc-headings"><li><a href="#asynchronous-file-creation-1">Asynchronous file creation</a></li><li><a href="#synchronous-file-creation-1">Synchronous file creation</a></li><li><a href="#controlling-the-descriptor">Controlling the Descriptor</a></li><li><a href="#asynchronous-directory-creation-1">Asynchronous directory creation</a></li><li><a href="#synchronous-directory-creation-1">Synchronous directory creation</a></li><li><a href="#mkstemp-like-asynchronously">mkstemp like, asynchronously</a></li><li><a href="#mkstemp-like-synchronously">mkstemp like, synchronously</a></li><li><a href="#asynchronous-filename-generation-1">Asynchronous filename generation</a></li><li><a href="#synchronous-filename-generation-1">Synchronous filename generation</a></li></ul></li><li><a href="#graceful-cleanup">Graceful cleanup</a></li><li><a href="#options">Options</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/underbase/" class="nav-home"><img src="/underbase/img/logo.svg" alt="Underbase" width="64" height="auto"/></a><div><h5>Guides</h5><a href="/underbase/docs/backups">Working with backups</a><a href="/underbase/docs/continuous-deployment">Working with continuous deployment</a><a href="/underbase/docs/api">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/underbase" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/sundowndev" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/underbase/blog">Release notes</a><a href="https://github.com/sundowndev/underbase">GitHub</a></div></section></footer></div></body></html>