<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>node_modules/bin-wrapper/node_modules/got/readme · Underbase</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div align=&quot;center&quot;&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="node_modules/bin-wrapper/node_modules/got/readme · Underbase"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sundowndev.github.io/underbase/"/><meta property="og:description" content="&lt;div align=&quot;center&quot;&gt;"/><meta property="og:image" content="https://sundowndev.github.io/underbase/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sundowndev.github.io/underbase/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/underbase/img/logo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://sundowndev.github.io/underbase/blog/atom.xml" title="Underbase Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://sundowndev.github.io/underbase/blog/feed.xml" title="Underbase Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/underbase/js/scrollSpy.js"></script><link rel="stylesheet" href="/underbase/css/main.css"/><script src="/underbase/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/underbase/"><img class="logo" src="/underbase/img/logo.svg" alt="Underbase"/><h2 class="headerTitleWithLogo">Underbase</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/underbase/docs/installation" target="_self">Guides</a></li><li class=""><a href="/underbase/docs/api" target="_self">API</a></li><li class=""><a href="/underbase/blog/" target="_self">Release notes</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">node_modules/bin-wrapper/node_modules/got/readme</h1></header><article><div><span><div align="center">
    <br>
    <br>
    <img width="360" src="media/logo.svg" alt="Got">
    <br>
    <br>
    <br>
    <p align="center">Huge thanks to <a href="https://moxy.studio"><img src="https://sindresorhus.com/assets/thanks/moxy-logo.svg" width="150"></a> for sponsoring me!
    </p>
    <br>
    <br>
</div>
<blockquote>
<p>Simplified HTTP requests</p>
</blockquote>
<p><a href="https://travis-ci.org/sindresorhus/got"><img src="https://travis-ci.org/sindresorhus/got.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/sindresorhus/got?branch=master"><img src="https://coveralls.io/repos/github/sindresorhus/got/badge.svg?branch=master" alt="Coverage Status"></a> <a href="https://npmjs.com/got"><img src="https://img.shields.io/npm/dm/got.svg" alt="Downloads"></a></p>
<p>A nicer interface to the built-in <a href="http://nodejs.org/api/http.html"><code>http</code></a> module.</p>
<p>Created because <a href="https://github.com/request/request"><code>request</code></a> is bloated <em>(several megabytes!)</em>.</p>
<h2><a class="anchor" aria-hidden="true" id="highlights"></a><a href="#highlights" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Highlights</h2>
<ul>
<li><a href="#api">Promise &amp; stream API</a></li>
<li><a href="#aborting-the-request">Request cancelation</a></li>
<li><a href="#cache-adapters">RFC compliant caching</a></li>
<li><a href="#followredirect">Follows redirects</a></li>
<li><a href="#retries">Retries on network failure</a></li>
<li><a href="#onuploadprogress-progress">Progress events</a></li>
<li><a href="#decompress">Handles gzip/deflate</a></li>
<li><a href="#timeout">Timeout handling</a></li>
<li><a href="#errors">Errors with metadata</a></li>
<li><a href="#json">JSON mode</a></li>
<li><a href="#url">WHATWG URL support</a></li>
<li><a href="#useelectronnet">Electron support</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="install"></a><a href="#install" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install</h2>
<pre><code class="hljs">$ npm <span class="hljs-keyword">install</span> got
</code></pre>
<p><a href="https://www.patreon.com/sindresorhus">
<img src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" width="160">
</a></p>
<h2><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);

<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> got(<span class="hljs-string">'sindresorhus.com'</span>);
        <span class="hljs-built_in">console</span>.log(response.body);
        <span class="hljs-comment">//=&gt; '&lt;!doctype html&gt; ...'</span>
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-built_in">console</span>.log(error.response.body);
        <span class="hljs-comment">//=&gt; 'Internal server error ...'</span>
    }
})();
</code></pre>
<h6><a class="anchor" aria-hidden="true" id="streams"></a><a href="#streams" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Streams</h6>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);

got.stream(<span class="hljs-string">'sindresorhus.com'</span>).pipe(fs.createWriteStream(<span class="hljs-string">'index.html'</span>));

<span class="hljs-comment">// For POST, PUT, and PATCH methods `got.stream` returns a `stream.Writable`</span>
fs.createReadStream(<span class="hljs-string">'index.html'</span>).pipe(got.stream.post(<span class="hljs-string">'sindresorhus.com'</span>));
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="api"></a><a href="#api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h3>
<p>It's a <code>GET</code> request by default, but can be changed by using different methods or in the <code>options</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="goturl-options"></a><a href="#goturl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got(url, [options])</h4>
<p>Returns a Promise for a <code>response</code> object with a <code>body</code> property, a <code>url</code> property with the request URL or the final URL after redirects, and a <code>requestUrl</code> property with the original request URL.</p>
<p>The response object will normally be a <a href="https://nodejs.org/api/http.html#http_class_http_incomingmessage">Node.js HTTP response stream</a>, however if returned from the cache it will be a <a href="https://github.com/lukechilds/responselike">responselike object</a> which behaves in the same way.</p>
<p>The response will also have a <code>fromCache</code> property set with a boolean value.</p>
<h5><a class="anchor" aria-hidden="true" id="url"></a><a href="#url" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>url</h5>
<p>Type: <code>string</code> <code>Object</code></p>
<p>The URL to request as simple string, a <a href="https://nodejs.org/api/http.html#http_http_request_options_callback"><code>http.request</code> options</a>, or a <a href="https://nodejs.org/api/url.html#url_class_url">WHATWG <code>URL</code></a>.</p>
<p>Properties from <code>options</code> will override properties in the parsed <code>url</code>.</p>
<p>If no protocol is specified, it will default to <code>https</code>.</p>
<h5><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h5>
<p>Type: <code>Object</code></p>
<p>Any of the <a href="http://nodejs.org/api/http.html#http_http_request_options_callback"><code>http.request</code></a> options.</p>
<h6><a class="anchor" aria-hidden="true" id="stream"></a><a href="#stream" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stream</h6>
<p>Type: <code>boolean</code><br>
Default: <code>false</code></p>
<p>Returns a <code>Stream</code> instead of a <code>Promise</code>. This is equivalent to calling <code>got.stream(url, [options])</code>.</p>
<h6><a class="anchor" aria-hidden="true" id="body"></a><a href="#body" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>body</h6>
<p>Type: <code>string</code> <code>Buffer</code> <code>stream.Readable</code></p>
<p><em>This is mutually exclusive with stream mode.</em></p>
<p>Body that will be sent with a <code>POST</code> request.</p>
<p>If present in <code>options</code> and <code>options.method</code> is not set, <code>options.method</code> will be set to <code>POST</code>.</p>
<p>If <code>content-length</code> or <code>transfer-encoding</code> is not set in <code>options.headers</code> and <code>body</code> is a string or buffer, <code>content-length</code> will be set to the body length.</p>
<h6><a class="anchor" aria-hidden="true" id="encoding"></a><a href="#encoding" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>encoding</h6>
<p>Type: <code>string</code> <code>null</code><br>
Default: <code>'utf8'</code></p>
<p><a href="https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings">Encoding</a> to be used on <code>setEncoding</code> of the response data. If <code>null</code>, the body is returned as a <a href="https://nodejs.org/api/buffer.html"><code>Buffer</code></a> (binary data).</p>
<h6><a class="anchor" aria-hidden="true" id="form"></a><a href="#form" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>form</h6>
<p>Type: <code>boolean</code><br>
Default: <code>false</code></p>
<p><em>This is mutually exclusive with stream mode.</em></p>
<p>If set to <code>true</code> and <code>Content-Type</code> header is not set, it will be set to <code>application/x-www-form-urlencoded</code>.</p>
<p><code>body</code> must be a plain object or array and will be stringified.</p>
<h6><a class="anchor" aria-hidden="true" id="json"></a><a href="#json" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>json</h6>
<p>Type: <code>boolean</code><br>
Default: <code>false</code></p>
<p><em>This is mutually exclusive with stream mode.</em></p>
<p>If set to <code>true</code> and <code>Content-Type</code> header is not set, it will be set to <code>application/json</code>.</p>
<p>Parse response body with <code>JSON.parse</code> and set <code>accept</code> header to <code>application/json</code>. If used in conjunction with the <code>form</code> option, the <code>body</code> will the stringified as querystring and the response parsed as JSON.</p>
<p><code>body</code> must be a plain object or array and will be stringified.</p>
<h6><a class="anchor" aria-hidden="true" id="query"></a><a href="#query" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>query</h6>
<p>Type: <code>string</code> <code>Object</code><br></p>
<p>Query string object that will be added to the request URL. This will override the query string in <code>url</code>.</p>
<h6><a class="anchor" aria-hidden="true" id="timeout"></a><a href="#timeout" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>timeout</h6>
<p>Type: <code>number</code> <code>Object</code></p>
<p>Milliseconds to wait for the server to end the response before aborting request with <code>ETIMEDOUT</code> error.</p>
<p>This also accepts an object with separate <code>connect</code>, <code>socket</code>, and <code>request</code> fields for connection, socket, and entire request timeouts.</p>
<h6><a class="anchor" aria-hidden="true" id="retries"></a><a href="#retries" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>retries</h6>
<p>Type: <code>number</code> <code>Function</code><br>
Default: <code>2</code></p>
<p>Number of request retries when network errors happens. Delays between retries counts with function <code>1000 * Math.pow(2, retry) + Math.random() * 100</code>, where <code>retry</code> is attempt number (starts from 0).</p>
<p>Option accepts <code>function</code> with <code>retry</code> and <code>error</code> arguments. Function must return delay in milliseconds (<code>0</code> return value cancels retry).</p>
<p><strong>Note:</strong> if <code>retries</code> is <code>number</code>, <code>ENOTFOUND</code> and <code>ENETUNREACH</code> error will not be retried (see full list in <a href="https://github.com/floatdrop/is-retry-allowed/blob/master/index.js#L12"><code>is-retry-allowed</code></a> module).</p>
<h6><a class="anchor" aria-hidden="true" id="followredirect"></a><a href="#followredirect" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>followRedirect</h6>
<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>
<p>Defines if redirect responses should be followed automatically.</p>
<p>Note that if a <code>303</code> is sent by the server in response to any request type (<code>POST</code>, <code>DELETE</code>, etc.), got will automatically
request the resource pointed to in the location header via <code>GET</code>. This is in accordance with <a href="https://tools.ietf.org/html/rfc7231#section-6.4.4">the spec</a>.</p>
<h6><a class="anchor" aria-hidden="true" id="decompress"></a><a href="#decompress" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>decompress</h6>
<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>
<p>Decompress the response automatically. This will set the <code>accept-encoding</code> header to <code>gzip, deflate</code> unless you set it yourself.</p>
<p>If this is disabled, a compressed response is returned as a <code>Buffer</code>. This may be useful if you want to handle decompression yourself or stream the raw compressed data.</p>
<h6><a class="anchor" aria-hidden="true" id="cache"></a><a href="#cache" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cache</h6>
<p>Type: <code>Object</code><br>
Default: <code>false</code></p>
<p><a href="#cache-adapters">Cache adapter instance</a> for storing cached data.</p>
<h6><a class="anchor" aria-hidden="true" id="useelectronnet"></a><a href="#useelectronnet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>useElectronNet</h6>
<p>Type: <code>boolean</code><br>
Default: <code>false</code></p>
<p>When used in Electron, Got will use <a href="https://electronjs.org/docs/api/net/"><code>electron.net</code></a> instead of the Node.js <code>http</code> module. According to the Electron docs, it should be fully compatible, but it's not entirely. See <a href="https://github.com/sindresorhus/got/issues/315">#315</a>.</p>
<h6><a class="anchor" aria-hidden="true" id="throwhttperrors"></a><a href="#throwhttperrors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>throwHttpErrors</h6>
<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>
<p>Determines if a <code>got.HTTPError</code> is thrown for error responses (non-2xx status codes).</p>
<p>If this is disabled, requests that encounter an error status code will be resolved with the <code>response</code> instead of throwing. This may be useful if you are checking for resource availability and are expecting error responses.</p>
<h4><a class="anchor" aria-hidden="true" id="streams-1"></a><a href="#streams-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Streams</h4>
<h4><a class="anchor" aria-hidden="true" id="gotstreamurl-options"></a><a href="#gotstreamurl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.stream(url, [options])</h4>
<p><code>stream</code> method will return Duplex stream with additional events:</p>
<h5><a class="anchor" aria-hidden="true" id="on-request-request"></a><a href="#on-request-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('request', request)</h5>
<p><code>request</code> event to get the request object of the request.</p>
<p><strong>Tip</strong>: You can use <code>request</code> event to abort request:</p>
<pre><code class="hljs css language-js">got.stream(<span class="hljs-string">'github.com'</span>)
    .on(<span class="hljs-string">'request'</span>, req =&gt; setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> req.abort(), <span class="hljs-number">50</span>));
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="on-response-response"></a><a href="#on-response-response" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('response', response)</h5>
<p><code>response</code> event to get the response object of the final request.</p>
<h5><a class="anchor" aria-hidden="true" id="on-redirect-response-nextoptions"></a><a href="#on-redirect-response-nextoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('redirect', response, nextOptions)</h5>
<p><code>redirect</code> event to get the response object of a redirect. The second argument is options for the next request to the redirect location.</p>
<h5><a class="anchor" aria-hidden="true" id="on-uploadprogress-progress"></a><a href="#on-uploadprogress-progress" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('uploadProgress', progress)</h5>
<h5><a class="anchor" aria-hidden="true" id="on-downloadprogress-progress"></a><a href="#on-downloadprogress-progress" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('downloadProgress', progress)</h5>
<p>Progress events for uploading (sending request) and downloading (receiving response). The <code>progress</code> argument is an object like:</p>
<pre><code class="hljs css language-js">{
    <span class="hljs-attr">percent</span>: <span class="hljs-number">0.1</span>,
    <span class="hljs-attr">transferred</span>: <span class="hljs-number">1024</span>,
    <span class="hljs-attr">total</span>: <span class="hljs-number">10240</span>
}
</code></pre>
<p>If it's not possible to retrieve the body size (can happen when streaming), <code>total</code> will be <code>null</code>.</p>
<p><strong>Note</strong>: Progress events can also be used with promises.</p>
<pre><code class="hljs css language-js">(<span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> got(<span class="hljs-string">'sindresorhus.com'</span>)
        .on(<span class="hljs-string">'downloadProgress'</span>, progress =&gt; {
            <span class="hljs-comment">// Report download progress</span>
        })
        .on(<span class="hljs-string">'uploadProgress'</span>, progress =&gt; {
            <span class="hljs-comment">// Report upload progress</span>
        });

    <span class="hljs-built_in">console</span>.log(response);
})();
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="on-error-error-body-response"></a><a href="#on-error-error-body-response" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.on('error', error, body, response)</h5>
<p><code>error</code> event emitted in case of protocol error (like <code>ENOTFOUND</code> etc.) or status error (4xx or 5xx). The second argument is the body of the server response in case of status error. The third argument is response object.</p>
<h4><a class="anchor" aria-hidden="true" id="gotgeturl-options"></a><a href="#gotgeturl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.get(url, [options])</h4>
<h4><a class="anchor" aria-hidden="true" id="gotposturl-options"></a><a href="#gotposturl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.post(url, [options])</h4>
<h4><a class="anchor" aria-hidden="true" id="gotputurl-options"></a><a href="#gotputurl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.put(url, [options])</h4>
<h4><a class="anchor" aria-hidden="true" id="gotpatchurl-options"></a><a href="#gotpatchurl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.patch(url, [options])</h4>
<h4><a class="anchor" aria-hidden="true" id="gotheadurl-options"></a><a href="#gotheadurl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.head(url, [options])</h4>
<h4><a class="anchor" aria-hidden="true" id="gotdeleteurl-options"></a><a href="#gotdeleteurl-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.delete(url, [options])</h4>
<p>Sets <code>options.method</code> to the method name and makes a request.</p>
<h2><a class="anchor" aria-hidden="true" id="errors"></a><a href="#errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Errors</h2>
<p>Each error contains (if available) <code>statusCode</code>, <code>statusMessage</code>, <code>host</code>, <code>hostname</code>, <code>method</code>, <code>path</code>, <code>protocol</code> and <code>url</code> properties to make debugging easier.</p>
<p>In Promise mode, the <code>response</code> is attached to the error.</p>
<h4><a class="anchor" aria-hidden="true" id="gotcacheerror"></a><a href="#gotcacheerror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.CacheError</h4>
<p>When a cache method fails, for example if the database goes down, or there's a filesystem error.</p>
<h4><a class="anchor" aria-hidden="true" id="gotrequesterror"></a><a href="#gotrequesterror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.RequestError</h4>
<p>When a request fails. Contains a <code>code</code> property with error class code, like <code>ECONNREFUSED</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="gotreaderror"></a><a href="#gotreaderror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.ReadError</h4>
<p>When reading from response stream fails.</p>
<h4><a class="anchor" aria-hidden="true" id="gotparseerror"></a><a href="#gotparseerror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.ParseError</h4>
<p>When <code>json</code> option is enabled, server response code is 2xx, and <code>JSON.parse</code> fails.</p>
<h4><a class="anchor" aria-hidden="true" id="gothttperror"></a><a href="#gothttperror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.HTTPError</h4>
<p>When server response code is not 2xx. Includes <code>statusCode</code>, <code>statusMessage</code>, and <code>redirectUrls</code> properties.</p>
<h4><a class="anchor" aria-hidden="true" id="gotmaxredirectserror"></a><a href="#gotmaxredirectserror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.MaxRedirectsError</h4>
<p>When server redirects you more than 10 times. Includes a <code>redirectUrls</code> property, which is an array of the URLs Got was redirected to before giving up.</p>
<h4><a class="anchor" aria-hidden="true" id="gotunsupportedprotocolerror"></a><a href="#gotunsupportedprotocolerror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.UnsupportedProtocolError</h4>
<p>When given an unsupported protocol.</p>
<h4><a class="anchor" aria-hidden="true" id="gotcancelerror"></a><a href="#gotcancelerror" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>got.CancelError</h4>
<p>When the request is aborted with <code>.cancel()</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="aborting-the-request"></a><a href="#aborting-the-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aborting the request</h2>
<p>The promise returned by Got has a <a href="https://github.com/sindresorhus/p-cancelable"><code>.cancel()</code></a> method which, when called, aborts the request.</p>
<pre><code class="hljs css language-js">(<span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> request = got(url, options);

    …

    <span class="hljs-comment">// In another part of the code</span>
    <span class="hljs-keyword">if</span> (something) {
        request.cancel();
    }

    …

    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> request;
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">if</span> (request.isCanceled) { <span class="hljs-comment">// Or `error instanceof got.CancelError`</span>
            <span class="hljs-comment">// Handle cancelation</span>
        }

        <span class="hljs-comment">// Handle other errors</span>
    }
})();
</code></pre>
<p><a name="cache-adapters"></a></p>
<h2><a class="anchor" aria-hidden="true" id="cache-1"></a><a href="#cache-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cache</h2>
<p>Got implements <a href="http://httpwg.org/specs/rfc7234.html">RFC 7234</a> compliant HTTP caching which works out of the box in memory or is easily pluggable with a wide range of storage adapters. Fresh cache entries are served directly from cache and stale cache entries are revalidated with <code>If-None-Match</code>/<code>If-Modified-Since</code> headers. You can read more about the underlying cache behaviour in the <code>cacheable-request</code> <a href="https://github.com/lukechilds/cacheable-request">documentation</a>.</p>
<p>You can use the JavaScript <code>Map</code> type as an in memory cache:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
        <span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> got(<span class="hljs-string">'sindresorhus.com'</span>, {<span class="hljs-attr">cache</span>: map});
        <span class="hljs-built_in">console</span>.log(response.fromCache);
        <span class="hljs-comment">//=&gt; false</span>

        response = <span class="hljs-keyword">await</span> got(<span class="hljs-string">'sindresorhus.com'</span>, {<span class="hljs-attr">cache</span>: map});
        <span class="hljs-built_in">console</span>.log(response.fromCache);
        <span class="hljs-comment">//=&gt; true</span>
})();
</code></pre>
<p>Got uses <a href="https://github.com/lukechilds/keyv">Keyv</a> internally to support a wide range of storage adapters. For something more scalable you could use an <a href="https://github.com/lukechilds/keyv#official-storage-adapters">official Keyv storage adapter</a>:</p>
<pre><code class="hljs">$ <span class="hljs-built_in">npm</span> install @keyv/redis
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> KeyvRedis = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@keyv/redis'</span>);

<span class="hljs-keyword">const</span> redis = <span class="hljs-keyword">new</span> KeyvRedis(<span class="hljs-string">'redis://user:pass@localhost:6379'</span>);

got(<span class="hljs-string">'sindresorhus.com'</span>, {<span class="hljs-attr">cache</span>: redis});
</code></pre>
<p>Got supports anything that follows the Map API, so it's easy to write your own storage adapter or use a third-party solution.</p>
<p>For example, the following are all valid storage adapters:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> storageAdapter = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> storageAdapter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./my-storage-adapter'</span>);
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> QuickLRU = <span class="hljs-built_in">require</span>(<span class="hljs-string">'quick-lru'</span>);
<span class="hljs-keyword">const</span> storageAdapter = <span class="hljs-keyword">new</span> QuickLRU({<span class="hljs-attr">maxSize</span>: <span class="hljs-number">1000</span>});

got(<span class="hljs-string">'sindresorhus.com'</span>, {<span class="hljs-attr">cache</span>: storageAdapter});
</code></pre>
<p>View the <a href="https://github.com/lukechilds/keyv">Keyv docs</a> for more information on how to use storage adapters.</p>
<h2><a class="anchor" aria-hidden="true" id="proxies"></a><a href="#proxies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Proxies</h2>
<p>You can use the <a href="https://github.com/koichik/node-tunnel"><code>tunnel</code></a> module with the <code>agent</code> option to work with proxies:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> tunnel = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tunnel'</span>);

got(<span class="hljs-string">'sindresorhus.com'</span>, {
    <span class="hljs-attr">agent</span>: tunnel.httpOverHttp({
        <span class="hljs-attr">proxy</span>: {
            <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>
        }
    })
});
</code></pre>
<p>If you require different agents for different protocols, you can pass a map of agents to the <code>agent</code> option. This is necessary because a request to one protocol might redirect to another. In such a scenario, <code>got</code> will switch over to the right protocol agent for you.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> HttpAgent = <span class="hljs-built_in">require</span>(<span class="hljs-string">'agentkeepalive'</span>);
<span class="hljs-keyword">const</span> HttpsAgent = HttpAgent.HttpsAgent;

got(<span class="hljs-string">'sindresorhus.com'</span>, {
    <span class="hljs-attr">agent</span>: {
        <span class="hljs-attr">http</span>: <span class="hljs-keyword">new</span> HttpAgent(),
        <span class="hljs-attr">https</span>: <span class="hljs-keyword">new</span> HttpsAgent()
    }
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="cookies"></a><a href="#cookies" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cookies</h2>
<p>You can use the <a href="https://github.com/jshttp/cookie"><code>cookie</code></a> module to include cookies in a request:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> cookie = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cookie'</span>);

got(<span class="hljs-string">'google.com'</span>, {
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-attr">cookie</span>: cookie.serialize(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>)
    }
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="form-data"></a><a href="#form-data" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Form data</h2>
<p>You can use the <a href="https://github.com/form-data/form-data"><code>form-data</code></a> module to create POST request with form data:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> FormData = <span class="hljs-built_in">require</span>(<span class="hljs-string">'form-data'</span>);
<span class="hljs-keyword">const</span> form = <span class="hljs-keyword">new</span> FormData();

form.append(<span class="hljs-string">'my_file'</span>, fs.createReadStream(<span class="hljs-string">'/foo/bar.jpg'</span>));

got.post(<span class="hljs-string">'google.com'</span>, {
    <span class="hljs-attr">body</span>: form
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="oauth"></a><a href="#oauth" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth</h2>
<p>You can use the <a href="https://github.com/ddo/oauth-1.0a"><code>oauth-1.0a</code></a> module to create a signed OAuth request:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> crypto  = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);
<span class="hljs-keyword">const</span> OAuth = <span class="hljs-built_in">require</span>(<span class="hljs-string">'oauth-1.0a'</span>);

<span class="hljs-keyword">const</span> oauth = OAuth({
    <span class="hljs-attr">consumer</span>: {
        <span class="hljs-attr">key</span>: process.env.CONSUMER_KEY,
        <span class="hljs-attr">secret</span>: process.env.CONSUMER_SECRET
    },
    <span class="hljs-attr">signature_method</span>: <span class="hljs-string">'HMAC-SHA1'</span>,
    <span class="hljs-attr">hash_function</span>: <span class="hljs-function">(<span class="hljs-params">baseString, key</span>) =&gt;</span> crypto.createHmac(<span class="hljs-string">'sha1'</span>, key).update(baseString).digest(<span class="hljs-string">'base64'</span>)
});

<span class="hljs-keyword">const</span> token = {
    <span class="hljs-attr">key</span>: process.env.ACCESS_TOKEN,
    <span class="hljs-attr">secret</span>: process.env.ACCESS_TOKEN_SECRET
};

<span class="hljs-keyword">const</span> url = <span class="hljs-string">'https://api.twitter.com/1.1/statuses/home_timeline.json'</span>;

got(url, {
    <span class="hljs-attr">headers</span>: oauth.toHeader(oauth.authorize({url, <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>}, token)),
    <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="unix-domain-sockets"></a><a href="#unix-domain-sockets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Unix Domain Sockets</h2>
<p>Requests can also be sent via <a href="http://serverfault.com/questions/124517/whats-the-difference-between-unix-socket-and-tcp-ip-socket">unix domain sockets</a>. Use the following URL scheme: <code>PROTOCOL://unix:SOCKET:PATH</code>.</p>
<ul>
<li><code>PROTOCOL</code> - <code>http</code> or <code>https</code> <em>(optional)</em></li>
<li><code>SOCKET</code> - absolute path to a unix domain socket, e.g. <code>/var/run/docker.sock</code></li>
<li><code>PATH</code> - request path, e.g. <code>/v2/keys</code></li>
</ul>
<pre><code class="hljs css language-js">got(<span class="hljs-string">'http://unix:/var/run/docker.sock:/containers/json'</span>);

<span class="hljs-comment">// or without protocol (http by default)</span>
got(<span class="hljs-string">'unix:/var/run/docker.sock:/containers/json'</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="aws"></a><a href="#aws" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AWS</h2>
<p>Requests to AWS services need to have their headers signed. This can be accomplished by using the <a href="https://www.npmjs.com/package/aws4"><code>aws4</code></a> package. This is an example for querying an <a href="https://aws.amazon.com/elasticsearch-service/">&quot;Elasticsearch Service&quot;</a> host with a signed request.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">'url'</span>);
<span class="hljs-keyword">const</span> AWS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'aws-sdk'</span>);
<span class="hljs-keyword">const</span> aws4 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'aws4'</span>);
<span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config'</span>);

<span class="hljs-comment">// Reads keys from the environment or `~/.aws/credentials`. Could be a plain object.</span>
<span class="hljs-keyword">const</span> awsConfig = <span class="hljs-keyword">new</span> AWS.Config({ <span class="hljs-attr">region</span>: config.region });

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">request</span>(<span class="hljs-params">uri, options</span>) </span>{
    <span class="hljs-keyword">const</span> awsOpts = {
        <span class="hljs-attr">region</span>: awsConfig.region,
        <span class="hljs-attr">headers</span>: {
            <span class="hljs-attr">accept</span>: <span class="hljs-string">'application/json'</span>,
            <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
        },
        <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
        <span class="hljs-attr">json</span>: <span class="hljs-literal">true</span>
    };

    <span class="hljs-comment">// We need to parse the URL before passing it to `got` so `aws4` can sign the request</span>
    <span class="hljs-keyword">const</span> opts = <span class="hljs-built_in">Object</span>.assign(url.parse(uri), awsOpts, options);
    aws4.sign(opts, awsConfig.credentials);

    <span class="hljs-keyword">return</span> got(opts);
}

request(<span class="hljs-string">`https://<span class="hljs-subst">${config.host}</span>/production/users/1`</span>);

request(<span class="hljs-string">`https://<span class="hljs-subst">${config.host}</span>/production/`</span>, {
    <span class="hljs-comment">// All usual `got` options</span>
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="testing"></a><a href="#testing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing</h2>
<p>You can test your requests by using the <a href="https://github.com/node-nock/nock"><code>nock</code></a> module to mock an endpoint:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> nock = <span class="hljs-built_in">require</span>(<span class="hljs-string">'nock'</span>);

nock(<span class="hljs-string">'https://sindresorhus.com'</span>)
    .get(<span class="hljs-string">'/'</span>)
    .reply(<span class="hljs-number">200</span>, <span class="hljs-string">'Hello world!'</span>);

<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> got(<span class="hljs-string">'sindresorhus.com'</span>);
    <span class="hljs-built_in">console</span>.log(response.body);
    <span class="hljs-comment">//=&gt; 'Hello world!'</span>
})();
</code></pre>
<p>If you need real integration tests you can use <a href="https://github.com/lukechilds/create-test-server"><code>create-test-server</code></a>:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> createTestServer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'create-test-server'</span>);

<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> server = <span class="hljs-keyword">await</span> createTestServer();
    server.get(<span class="hljs-string">'/'</span>, <span class="hljs-string">'Hello world!'</span>);

    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> got(server.url);
    <span class="hljs-built_in">console</span>.log(response.body);
    <span class="hljs-comment">//=&gt; 'Hello world!'</span>

    <span class="hljs-keyword">await</span> server.close();
})();
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="tips"></a><a href="#tips" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips</h2>
<h3><a class="anchor" aria-hidden="true" id="user-agent"></a><a href="#user-agent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User Agent</h3>
<p>It's a good idea to set the <code>'user-agent'</code> header so the provider can more easily see how their resource is used. By default, it's the URL to this repo.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> got = <span class="hljs-built_in">require</span>(<span class="hljs-string">'got'</span>);
<span class="hljs-keyword">const</span> pkg = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./package.json'</span>);

got(<span class="hljs-string">'sindresorhus.com'</span>, {
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'user-agent'</span>: <span class="hljs-string">`my-module/<span class="hljs-subst">${pkg.version}</span> (https://github.com/username/my-module)`</span>
    }
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="304-responses"></a><a href="#304-responses" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>304 Responses</h3>
<p>Bear in mind, if you send an <code>if-modified-since</code> header and receive a <code>304 Not Modified</code> response, the body will be empty. It's your responsibility to cache and retrieve the body contents.</p>
<h2><a class="anchor" aria-hidden="true" id="related"></a><a href="#related" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Related</h2>
<ul>
<li><a href="https://github.com/sindresorhus/gh-got">gh-got</a> - Got convenience wrapper to interact with the GitHub API</li>
<li><a href="https://github.com/singapore/gl-got">gl-got</a> - Got convenience wrapper to interact with the GitLab API</li>
<li><a href="https://github.com/samverschueren/travis-got">travis-got</a> - Got convenience wrapper to interact with the Travis API</li>
<li><a href="https://github.com/kevva/graphql-got">graphql-got</a> - Got convenience wrapper to interact with GraphQL</li>
<li><a href="https://github.com/khaosdoctor/gotql">GotQL</a> - Got convenience wrapper to interact with GraphQL using JSON-parsed queries instead of strings</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="created-by"></a><a href="#created-by" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Created by</h2>
<table>
<thead>
<tr><th><a href="https://sindresorhus.com"><img src="https://github.com/sindresorhus.png?size=100" alt="Sindre Sorhus"></a></th><th><a href="https://github.com/floatdrop"><img src="https://github.com/floatdrop.png?size=100" alt="Vsevolod Strukchinsky"></a></th><th><a href="https://github.com/AlexTes"><img src="https://github.com/AlexTes.png?size=100" alt="Alexander Tesfamichael"></a></th><th><a href="https://github.com/lukechilds"><img src="https://github.com/lukechilds.png?size=100" alt="Luke Childs"></a></th></tr>
</thead>
<tbody>
<tr><td><a href="https://sindresorhus.com">Sindre Sorhus</a></td><td><a href="https://github.com/floatdrop">Vsevolod Strukchinsky</a></td><td><a href="https://alextes.me">Alexander Tesfamichael</a></td><td><a href="https://github.com/lukechilds">Luke Childs</a></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="license"></a><a href="#license" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p>MIT</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#highlights">Highlights</a></li><li><a href="#install">Install</a></li><li><a href="#usage">Usage</a><ul class="toc-headings"><li><a href="#api">API</a></li></ul></li><li><a href="#errors">Errors</a></li><li><a href="#aborting-the-request">Aborting the request</a></li><li><a href="#cache-1">Cache</a></li><li><a href="#proxies">Proxies</a></li><li><a href="#cookies">Cookies</a></li><li><a href="#form-data">Form data</a></li><li><a href="#oauth">OAuth</a></li><li><a href="#unix-domain-sockets">Unix Domain Sockets</a></li><li><a href="#aws">AWS</a></li><li><a href="#testing">Testing</a></li><li><a href="#tips">Tips</a><ul class="toc-headings"><li><a href="#user-agent">User Agent</a></li><li><a href="#304-responses">304 Responses</a></li></ul></li><li><a href="#related">Related</a></li><li><a href="#created-by">Created by</a></li><li><a href="#license">License</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/underbase/" class="nav-home"><img src="/underbase/img/logo.svg" alt="Underbase" width="66" height="58"/></a><div><h5>Docs</h5><a href="/underbase/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/underbase/docs/en/doc2.html">Guides (or other categories)</a><a href="/underbase/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/underbase/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div></body></html>