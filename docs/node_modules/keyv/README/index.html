<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>node_modules/keyv/README · Underbase</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;&lt;h1 align=&quot;center&quot;&gt;&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="node_modules/keyv/README · Underbase"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sundowndev.github.io/underbase/"/><meta property="og:description" content="&lt;p&gt;&lt;h1 align=&quot;center&quot;&gt;&lt;/p&gt;
"/><meta property="og:image" content="https://sundowndev.github.io/underbase/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sundowndev.github.io/underbase/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/underbase/img/logo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://sundowndev.github.io/underbase/blog/atom.xml" title="Underbase Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://sundowndev.github.io/underbase/blog/feed.xml" title="Underbase Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/underbase/js/scrollSpy.js"></script><link rel="stylesheet" href="/underbase/css/main.css"/><script src="/underbase/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/underbase/"><img class="logo" src="/underbase/img/logo.svg" alt="Underbase"/><h2 class="headerTitleWithLogo">Underbase</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/underbase/docs/installation" target="_self">Guides</a></li><li class=""><a href="/underbase/docs/api" target="_self">API</a></li><li class=""><a href="/underbase/blog/" target="_self">Release notes</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">node_modules/keyv/README</h1></header><article><div><span><p><h1 align="center">
<img width="250" src="https://rawgit.com/lukechilds/keyv/master/media/logo.svg" alt="keyv">
<br>
<br>
</h1></p>
<blockquote>
<p>Simple key-value storage with support for multiple backends</p>
</blockquote>
<p><a href="https://travis-ci.org/lukechilds/keyv"><img src="https://travis-ci.org/lukechilds/keyv.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/lukechilds/keyv?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://www.npmjs.com/package/keyv"><img src="https://img.shields.io/npm/v/keyv.svg" alt="npm"></a></p>
<p>Keyv provides a consistent interface for key-value storage across multiple backends via storage adapters. It supports TTL based expiry, making it suitable as a cache or a persistent key-value store.</p>
<h2><a class="anchor" aria-hidden="true" id="features"></a><a href="#features" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h2>
<p>There are a few existing modules similar to Keyv, however Keyv is different because it:</p>
<ul>
<li>Isn't bloated</li>
<li>Has a simple Promise based API</li>
<li>Suitable as a TTL based cache or persistent key-value store</li>
<li><a href="#add-cache-support-to-your-module">Easily embeddable</a> inside another module</li>
<li>Works with any storage that implements the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a> API</li>
<li>Handles all JavaScript types (values can be <code>Buffer</code>/<code>null</code>/<code>undefined</code>)</li>
<li>Supports namespaces</li>
<li>Wide range of <a href="#official-storage-adapters"><strong>efficient, well tested</strong></a> storage adapters</li>
<li>Connection errors are passed through (db failures won't kill your app)</li>
<li>Supports the current active LTS version of Node.js or higher</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<p>Install Keyv.</p>
<pre><code class="hljs">npm <span class="hljs-keyword">install</span> <span class="hljs-comment">--save keyv</span>
</code></pre>
<p>By default everything is stored in memory, you can optionally also install a storage adapter.</p>
<pre><code class="hljs"><span class="hljs-built_in">npm</span> install --save @keyv/redis
<span class="hljs-built_in">npm</span> install --save @keyv/mongo
<span class="hljs-built_in">npm</span> install --save @keyv/sqlite
<span class="hljs-built_in">npm</span> install --save @keyv/postgres
<span class="hljs-built_in">npm</span> install --save @keyv/mysql
</code></pre>
<p>Create a new Keyv instance, passing your connection string if applicable. Keyv will automatically load the correct storage adapter.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Keyv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'keyv'</span>);

<span class="hljs-comment">// One of the following</span>
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv();
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'redis://user:pass@localhost:6379'</span>);
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'mongodb://user:pass@localhost:27017/dbname'</span>);
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'sqlite://path/to/database.sqlite'</span>);
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'postgresql://user:pass@localhost:5432/dbname'</span>);
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'mysql://user:pass@localhost:3306/dbname'</span>);

<span class="hljs-comment">// Handle DB connection errors</span>
keyv.on(<span class="hljs-string">'error'</span> err =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Connection Error'</span>, err));

<span class="hljs-keyword">await</span> keyv.set(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'expires in 1 second'</span>, <span class="hljs-number">1000</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">await</span> keyv.set(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'never expires'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">await</span> keyv.get(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// 'never expires'</span>
<span class="hljs-keyword">await</span> keyv.delete(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">await</span> keyv.clear(); <span class="hljs-comment">// undefined</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="namespaces"></a><a href="#namespaces" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Namespaces</h3>
<p>You can namespace your Keyv instance to avoid key collisions and allow you to clear only a certain namespace while using the same database.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> users = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'redis://user:pass@localhost:6379'</span>, { <span class="hljs-attr">namespace</span>: <span class="hljs-string">'users'</span> });
<span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> Keyv(<span class="hljs-string">'redis://user:pass@localhost:6379'</span>, { <span class="hljs-attr">namespace</span>: <span class="hljs-string">'cache'</span> });

<span class="hljs-keyword">await</span> users.set(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'users'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">await</span> cache.set(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'cache'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">await</span> users.get(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// 'users'</span>
<span class="hljs-keyword">await</span> cache.get(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// 'cache'</span>
<span class="hljs-keyword">await</span> users.clear(); <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">await</span> users.get(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">await</span> cache.get(<span class="hljs-string">'foo'</span>); <span class="hljs-comment">// 'cache'</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="official-storage-adapters"></a><a href="#official-storage-adapters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Official Storage Adapters</h2>
<p>The official storage adapters are covered by <a href="https://travis-ci.org/lukechilds/keyv/jobs/260418145">over 150 integration tests</a> to guarantee consistent behaviour. They are lightweight, efficient wrappers over the DB clients making use of indexes and native TTLs where available.</p>
<table>
<thead>
<tr><th>Database</th><th>Adapter</th><th>Native TTL</th><th>Status</th></tr>
</thead>
<tbody>
<tr><td>Redis</td><td><a href="https://github.com/lukechilds/keyv-redis">@keyv/redis</a></td><td>Yes</td><td><a href="https://travis-ci.org/lukechilds/keyv-redis"><img src="https://travis-ci.org/lukechilds/keyv-redis.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lukechilds/keyv-redis?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv-redis/badge.svg?branch=master" alt="Coverage Status"></a></td></tr>
<tr><td>MongoDB</td><td><a href="https://github.com/lukechilds/keyv-mongo">@keyv/mongo</a></td><td>Yes</td><td><a href="https://travis-ci.org/lukechilds/keyv-mongo"><img src="https://travis-ci.org/lukechilds/keyv-mongo.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lukechilds/keyv-mongo?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv-mongo/badge.svg?branch=master" alt="Coverage Status"></a></td></tr>
<tr><td>SQLite</td><td><a href="https://github.com/lukechilds/keyv-sqlite">@keyv/sqlite</a></td><td>No</td><td><a href="https://travis-ci.org/lukechilds/keyv-sqlite"><img src="https://travis-ci.org/lukechilds/keyv-sqlite.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lukechilds/keyv-sqlite?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv-sqlite/badge.svg?branch=master" alt="Coverage Status"></a></td></tr>
<tr><td>PostgreSQL</td><td><a href="https://github.com/lukechilds/keyv-postgres">@keyv/postgres</a></td><td>No</td><td><a href="https://travis-ci.org/lukechildskeyv-postgreskeyv"><img src="https://travis-ci.org/lukechilds/keyv-postgres.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lukechilds/keyv-postgres?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv-postgres/badge.svg?branch=master" alt="Coverage Status"></a></td></tr>
<tr><td>MySQL</td><td><a href="https://github.com/lukechilds/keyv-mysql">@keyv/mysql</a></td><td>No</td><td><a href="https://travis-ci.org/lukechilds/keyv-mysql"><img src="https://travis-ci.org/lukechilds/keyv-mysql.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/github/lukechilds/keyv-mysql?branch=master"><img src="https://coveralls.io/repos/github/lukechilds/keyv-mysql/badge.svg?branch=master" alt="Coverage Status"></a></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="third-party-storage-adapters"></a><a href="#third-party-storage-adapters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Third-party Storage Adapters</h2>
<p>You can also use third-party storage adapters or build your own. Keyv will wrap these storage adapters in TTL functionality and handle complex types internally.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Keyv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'keyv'</span>);
<span class="hljs-keyword">const</span> myAdapter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./my-storage-adapter'</span>);

<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv({ <span class="hljs-attr">store</span>: myAdapter });
</code></pre>
<p>Any store that follows the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a> api will work.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">new</span> Keyv({ <span class="hljs-attr">store</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>() });
</code></pre>
<p>For example, <a href="https://github.com/sindresorhus/quick-lru"><code>quick-lru</code></a> is a completely unrelated module that implements the Map API.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Keyv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'keyv'</span>);
<span class="hljs-keyword">const</span> QuickLRU = <span class="hljs-built_in">require</span>(<span class="hljs-string">'quick-lru'</span>);

<span class="hljs-keyword">const</span> lru = <span class="hljs-keyword">new</span> QuickLRU({ <span class="hljs-attr">maxSize</span>: <span class="hljs-number">1000</span> });
<span class="hljs-keyword">const</span> keyv = <span class="hljs-keyword">new</span> Keyv({ <span class="hljs-attr">store</span>: lru });
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="add-cache-support-to-your-module"></a><a href="#add-cache-support-to-your-module" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add Cache Support to your Module</h2>
<p>Keyv is designed to be easily embedded into other modules to add cache support. The recommended pattern is to expose a <code>cache</code> option in your modules options which is passed through to Keyv. Caching will work in memory by default and users have the option to also install a Keyv storage adapter and pass in a connection string, or any other storage that implements the <code>Map</code> API.</p>
<p>You should also set a namespace for your module so you can safely call <code>.clear()</code> without clearing unrelated app data.</p>
<p>Inside your module:</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AwesomeModule</span> </span>{
    <span class="hljs-keyword">constructor</span>(opts) {
        <span class="hljs-keyword">this</span>.cache = <span class="hljs-keyword">new</span> Keyv({
            <span class="hljs-attr">uri</span>: <span class="hljs-keyword">typeof</span> opts.cache === <span class="hljs-string">'string'</span> &amp;&amp; opts.cache,
            <span class="hljs-attr">store</span>: <span class="hljs-keyword">typeof</span> opts.cache !== <span class="hljs-string">'string'</span> &amp;&amp; opts.cache,
            <span class="hljs-attr">namespace</span>: <span class="hljs-string">'awesome-module'</span>
        });
    }
}
</code></pre>
<p>Now it can be consumed like this:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> AwesomeModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'awesome-module'</span>);

<span class="hljs-comment">// Caches stuff in memory by default</span>
<span class="hljs-keyword">const</span> awesomeModule = <span class="hljs-keyword">new</span> AwesomeModule();

<span class="hljs-comment">// After npm install --save keyv-redis</span>
<span class="hljs-keyword">const</span> awesomeModule = <span class="hljs-keyword">new</span> AwesomeModule({ <span class="hljs-attr">cache</span>: <span class="hljs-string">'redis://localhost'</span> });

<span class="hljs-comment">// Some third-party module that implements the Map API</span>
<span class="hljs-keyword">const</span> awesomeModule = <span class="hljs-keyword">new</span> AwesomeModule({ <span class="hljs-attr">cache</span>: some3rdPartyStore });
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="api"></a><a href="#api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2>
<h3><a class="anchor" aria-hidden="true" id="new-keyv-uri-options"></a><a href="#new-keyv-uri-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>new Keyv([uri], [options])</h3>
<p>Returns a new Keyv instance.</p>
<p>The Keyv instance is also an <code>EventEmitter</code> that will emit an <code>'error'</code> event if the storage adapter connection fails.</p>
<h3><a class="anchor" aria-hidden="true" id="uri"></a><a href="#uri" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>uri</h3>
<p>Type: <code>String</code><br>
Default: <code>undefined</code></p>
<p>The connection string URI.</p>
<p>Merged into the options object as options.uri.</p>
<h3><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h3>
<p>Type: <code>Object</code></p>
<p>The options object is also passed through to the storage adapter. Check your storage adapter docs for any extra options.</p>
<h4><a class="anchor" aria-hidden="true" id="optionsnamespace"></a><a href="#optionsnamespace" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.namespace</h4>
<p>Type: <code>String</code><br>
Default: <code>'keyv'</code></p>
<p>Namespace for the current instance.</p>
<h4><a class="anchor" aria-hidden="true" id="optionsttl"></a><a href="#optionsttl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.ttl</h4>
<p>Type: <code>Number</code><br>
Default: <code>undefined</code></p>
<p>Default TTL. Can be overridden by specififying a TTL on <code>.set()</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="optionsstore"></a><a href="#optionsstore" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.store</h4>
<p>Type: <code>Storage adapter instance</code><br>
Default: <code>new Map()</code></p>
<p>The storage adapter instance to be used by Keyv.</p>
<h4><a class="anchor" aria-hidden="true" id="optionsadapter"></a><a href="#optionsadapter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options.adapter</h4>
<p>Type: <code>String</code><br>
Default: <code>undefined</code></p>
<p>Specify an adapter to use. e.g <code>'redis'</code> or <code>'mongodb'</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="instance"></a><a href="#instance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Instance</h3>
<p>Keys must always be strings. Values can be of any type.</p>
<h4><a class="anchor" aria-hidden="true" id="setkey-value-ttl"></a><a href="#setkey-value-ttl" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.set(key, value, [ttl])</h4>
<p>Set a value.</p>
<p>By default keys are persistent. You can set an expiry TTL in milliseconds.</p>
<p>Returns <code>true</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="getkey"></a><a href="#getkey" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.get(key)</h4>
<p>Returns the value.</p>
<h4><a class="anchor" aria-hidden="true" id="deletekey"></a><a href="#deletekey" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.delete(key)</h4>
<p>Deletes an entry.</p>
<p>Returns <code>true</code> if the key existed, <code>false</code> if not.</p>
<h4><a class="anchor" aria-hidden="true" id="clear"></a><a href="#clear" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.clear()</h4>
<p>Delete all entries in the current namespace.</p>
<p>Returns <code>undefined</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="license"></a><a href="#license" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p>MIT © Luke Childs</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#features">Features</a></li><li><a href="#usage">Usage</a><ul class="toc-headings"><li><a href="#namespaces">Namespaces</a></li></ul></li><li><a href="#official-storage-adapters">Official Storage Adapters</a></li><li><a href="#third-party-storage-adapters">Third-party Storage Adapters</a></li><li><a href="#add-cache-support-to-your-module">Add Cache Support to your Module</a></li><li><a href="#api">API</a><ul class="toc-headings"><li><a href="#new-keyv-uri-options">new Keyv([uri], [options])</a></li><li><a href="#uri">uri</a></li><li><a href="#options">options</a></li><li><a href="#instance">Instance</a></li></ul></li><li><a href="#license">License</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/underbase/" class="nav-home"><img src="/underbase/img/logo.svg" alt="Underbase" width="66" height="58"/></a><div><h5>Docs</h5><a href="/underbase/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/underbase/docs/en/doc2.html">Guides (or other categories)</a><a href="/underbase/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/underbase/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div></body></html>