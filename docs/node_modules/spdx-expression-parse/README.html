<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>node_modules/spdx-expression-parse/README · Underbase</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;This package parses &lt;a href=&quot;https://spdx.org/spdx-specification-21-web-version#h.jxpfx0ykyb60&quot;&gt;SPDX license expression&lt;/a&gt; strings describing license terms, like &lt;a href=&quot;https://docs.npmjs.com/files/package.json#license&quot;&gt;package.json license strings&lt;/a&gt;, into consistently structured ECMAScript objects.  The npm command-line interface depends on this package, as do many automatic license-audit tools.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="node_modules/spdx-expression-parse/README · Underbase"/><meta property="og:type" content="website"/><meta property="og:url" content="https://sundowndev.github.io/underbase/"/><meta property="og:description" content="&lt;p&gt;This package parses &lt;a href=&quot;https://spdx.org/spdx-specification-21-web-version#h.jxpfx0ykyb60&quot;&gt;SPDX license expression&lt;/a&gt; strings describing license terms, like &lt;a href=&quot;https://docs.npmjs.com/files/package.json#license&quot;&gt;package.json license strings&lt;/a&gt;, into consistently structured ECMAScript objects.  The npm command-line interface depends on this package, as do many automatic license-audit tools.&lt;/p&gt;
"/><meta property="og:image" content="https://sundowndev.github.io/underbase/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://sundowndev.github.io/underbase/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/underbase/img/logo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://sundowndev.github.io/underbase/blog/atom.xml" title="Underbase Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://sundowndev.github.io/underbase/blog/feed.xml" title="Underbase Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/underbase/js/scrollSpy.js"></script><link rel="stylesheet" href="/underbase/css/main.css"/><script src="/underbase/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/underbase/"><img class="logo" src="/underbase/img/logo.svg" alt="Underbase"/><h2 class="headerTitleWithLogo">Underbase</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/underbase/docs/installation" target="_self">Guides</a></li><li class=""><a href="/underbase/docs/api" target="_self">API</a></li><li class=""><a href="/underbase/blog/" target="_self">Release notes</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">node_modules/spdx-expression-parse/README</h1></header><article><div><span><p>This package parses <a href="https://spdx.org/spdx-specification-21-web-version#h.jxpfx0ykyb60">SPDX license expression</a> strings describing license terms, like <a href="https://docs.npmjs.com/files/package.json#license">package.json license strings</a>, into consistently structured ECMAScript objects.  The npm command-line interface depends on this package, as do many automatic license-audit tools.</p>
<p>In a nutshell:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> parse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'spdx-expression-parse'</span>)
<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>)

assert.deepEqual(
  <span class="hljs-comment">// Licensed under the terms of the Two-Clause BSD License.</span>
  parse(<span class="hljs-string">'BSD-2-Clause'</span>),
  {<span class="hljs-attr">license</span>: <span class="hljs-string">'BSD-2-Clause'</span>}
)

assert.throws(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// An invalid SPDX license expression.</span>
  <span class="hljs-comment">// Should be `Apache-2.0`.</span>
  parse(<span class="hljs-string">'Apache 2'</span>)
})

assert.deepEqual(
  <span class="hljs-comment">// Dual licensed under either:</span>
  <span class="hljs-comment">// - LGPL 2.1</span>
  <span class="hljs-comment">// - a combination of Three-Clause BSD and MIT</span>
  parse(<span class="hljs-string">'(LGPL-2.1 OR BSD-3-Clause AND MIT)'</span>),
  {
    <span class="hljs-attr">left</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'LGPL-2.1'</span>},
    <span class="hljs-attr">conjunction</span>: <span class="hljs-string">'or'</span>,
    <span class="hljs-attr">right</span>: {
      <span class="hljs-attr">left</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'BSD-3-Clause'</span>},
      <span class="hljs-attr">conjunction</span>: <span class="hljs-string">'and'</span>,
      <span class="hljs-attr">right</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'MIT'</span>}
    }
  }
)
</code></pre>
<p>The syntax comes from the <a href="https://spdx.org/">Software Package Data eXchange (SPDX)</a>, a standard from the <a href="https://www.linuxfoundation.org">Linux Foundation</a> for shareable data about software package license terms.  SPDX aims to make sharing and auditing license data easy, especially for users of open-source software.</p>
<p>The bulk of the SPDX standard describes syntax and semantics of XML metadata files.  This package implements two lightweight, plain-text components of that larger standard:</p>
<ol>
<li><p>The <a href="https://spdx.org/licenses">license list</a>, a mapping from specific string identifiers, like <code>Apache-2.0</code>, to standard form license texts and bolt-on license exceptions.  The <a href="https://www.npmjs.com/package/spdx-exceptions">spdx-license-ids</a> and <a href="https://www.npmjs.com/package/spdx-license-ids">spdx-exceptions</a> packages implement the license list.  <code>spdx-expression-parse</code> depends on and <code>require()</code>s them.</p>
<p>Any license identifier from the license list is a valid license expression:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">var</span> identifiers = []
  .concat(<span class="hljs-built_in">require</span>(<span class="hljs-string">'spdx-license-ids'</span>))
  .concat(<span class="hljs-built_in">require</span>(<span class="hljs-string">'spdx-license-ids/deprecated'</span>))

identifiers.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  assert.deepEqual(parse(id), {<span class="hljs-attr">license</span>: id})
})
</code></pre>
<p>So is any license identifier <code>WITH</code> a standardized license exception:</p>
<pre><code class="hljs css language-javascript">identifiers.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">id</span>) </span>{
  <span class="hljs-built_in">require</span>(<span class="hljs-string">'spdx-exceptions'</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    assert.deepEqual(
      parse(id + <span class="hljs-string">' WITH '</span> + e),
      {<span class="hljs-attr">license</span>: id, <span class="hljs-attr">exception</span>: e}
    )
  })
})
</code></pre></li>
<li><p>The license expression language, for describing simple and complex license terms, like <code>MIT</code> for MIT-licensed and <code>(GPL-2.0 OR Apache-2.0)</code> for dual-licensing under GPL 2.0 and Apache 2.0.  <code>spdx-expression-parse</code> itself implements license expression language, exporting a parser.</p>
<pre><code class="hljs css language-javascript">assert.deepEqual(
  <span class="hljs-comment">// Licensed under a combination of:</span>
  <span class="hljs-comment">// - the MIT License AND</span>
  <span class="hljs-comment">// - a combination of:</span>
  <span class="hljs-comment">//   - LGPL 2.1 (or a later version) AND</span>
  <span class="hljs-comment">//   - Three-Clause BSD</span>
  parse(<span class="hljs-string">'(MIT AND (LGPL-2.1+ AND BSD-3-Clause))'</span>),
  {
    <span class="hljs-attr">left</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'MIT'</span>},
    <span class="hljs-attr">conjunction</span>: <span class="hljs-string">'and'</span>,
    <span class="hljs-attr">right</span>: {
      <span class="hljs-attr">left</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'LGPL-2.1'</span>, <span class="hljs-attr">plus</span>: <span class="hljs-literal">true</span>},
      <span class="hljs-attr">conjunction</span>: <span class="hljs-string">'and'</span>,
      <span class="hljs-attr">right</span>: {<span class="hljs-attr">license</span>: <span class="hljs-string">'BSD-3-Clause'</span>}
    }
  }
)
</code></pre></li>
</ol>
<p>The Linux Foundation and its contributors license the SPDX standard under the terms of <a href="http://spdx.org/licenses/CC-BY-3.0">the Creative Commons Attribution License 3.0 Unported (SPDX: &quot;CC-BY-3.0&quot;)</a>.  &quot;SPDX&quot; is a United States federally registered trademark of the Linux Foundation.  The authors of this package license their work under the terms of the MIT License.</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/underbase/" class="nav-home"><img src="/underbase/img/logo.svg" alt="Underbase" width="66" height="58"/></a><div><h5>Docs</h5><a href="/underbase/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/underbase/docs/en/doc2.html">Guides (or other categories)</a><a href="/underbase/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/underbase/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div></body></html>