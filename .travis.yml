language: node_js

services:
  - docker

node_js:
  - "8"
  - "10"
  - "11"

before_script:
  - set -o pipefail
  - npm install
  - npm install codecov -g
  - docker-compose up -d underbase-db

script:
  - npm run build
  - npm run lint
  - npm run test
  - codecov -f coverage/*.json
